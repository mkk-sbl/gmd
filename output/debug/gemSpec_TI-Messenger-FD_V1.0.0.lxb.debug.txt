
   =========================
   LXB SERIALIZER DEBUG MODE
   =========================


DOCUMENT _DOCUMENT
  HTML (&93834775844296)
    HEAD (&93834775844480)
      text " "
      STYLE (&93834775844784)
        text "#toc_container {    background: #f9f9f9 none repeat scroll 0 0;    border: 1px solid #aaa;    display: table;    font-size: 95%;    margin-bottom: 1em;    padding: 20px;    width: 100%;}.toc_title {    font-weight: 700;    text-align: center;}#toc_container li, #toc_container ul, #toc_container ul li{    list-style: outside none none !important;}body {  font-family: Arial, Helvetica, sans-serif;  font-size: 14px;}/* ol {  list-style-type: none;  Remove default numbering}ol > li:before {  counter-increment: mycounter;  content: counter(mycounter) ". ";}ol:first-of-type {  counter-reset: mycounter;} */@media print { h1, h2 { break-before: page; } }"
      text " "
      META (&93834775845216)
        attr charset "utf-8"
      text " "
    text " "
    BODY (&93834775845816)
      text " "
      P (&93834775846120)
        attr id "polarion_1"
        BR (&93834775846480)
      text " "
      P (&93834775846784)
        attr id "polarion_2"
        BR (&93834775847144)
      text " "
      P (&93834775847448)
        attr id "polarion_3"
        BR (&93834775847808)
      text " "
      P (&93834775848112)
        attr id "polarion_4"
        BR (&93834775848472)
      text " "
      P (&93834775848776)
        attr id "polarion_5"
        BR (&93834775849136)
      text " "
      P (&93834775849440)
        attr id "polarion_6"
        SPAN (&93834775849800)
          attr style "font-weight: bold;text-decoration: underline;font-size: 11pt;font-family: Arial, Helvetica, sans-serif;line-height: 1.5;"
          text "Elektronische Gesundheitskarte und Telematikinfrastruktur"
      text " "
      P (&93834775850400)
        attr id "polarion_7"
        BR (&93834775850760)
      text " "
      P (&93834775851064)
        attr id "polarion_8"
        BR (&93834775851424)
      text " "
      P (&93834775851728)
        attr id "polarion_9"
        BR (&93834775852088)
      text " "
      P (&93834775852392)
        attr id "polarion_10"
        BR (&93834775852752)
      text " "
      P (&93834775853056)
        attr id "polarion_11"
        attr style "text-align: center;"
        SPAN (&93834775853592)
          attr style "font-weight: bold;font-size: 28pt;line-height: 1.2;"
          text "Spezifikation"
      text " "
      P (&93834775854192)
        attr id "polarion_12"
        attr style "text-align: center;"
        SPAN (&93834775854728)
          attr style "font-weight: bold;font-size: 28pt;line-height: 1.2;"
          text "TI-Messenger-Fachdienst"
      text " "
      P (&93834775855328)
        attr id "polarion_13"
        BR (&93834775855688)
      text " "
      P (&93834775855992)
        attr id "polarion_14"
        BR (&93834775856352)
      text " "
      P (&93834775856656)
        attr id "polarion_15"
        BR (&93834775857016)
      text " "
      DIV (&93834775857320)
        attr class "polarion-dle-wiki-block"
        attr id "polarion_editor_html_block2"
        text " "
        DIV (&93834775857976)
          attr contenteditable "false"
          attr id "polarion_editor_html_block_content"
        text " "
        PRE (&93834775858632)
          attr class "polarion-dle-wiki-block-source"
          attr contenteditable "false"
          attr id "polarion_editor_html_block_source"
          text " "
          TABLE (&93834775859464)
            text " "
            TBODY (&93834775859768)
              TR (&93834775859952)
                text " "
                TD (&93834775860256)
                  text "Version"
                text " "
                TD (&93834775860680)
                  text "1.0.0"
                text " "
              text " "
              TR (&93834775861224)
                text " "
                TD (&93834775861528)
                  text "Revision"
                text " "
                TD (&93834775861952)
                  text "408371"
                text " "
              text " "
              TR (&93834775862496)
                text " "
                TD (&93834775862800)
                  text "Stand"
                text " "
                TD (&93834775863224)
                  text "01.10.2021"
                text " "
              text " "
              TR (&93834775863768)
                text " "
                TD (&93834775864072)
                  text "Status"
                text " "
                TD (&93834775864496)
                  text "freigegeben"
                text " "
              text " "
              TR (&93834775865040)
                text " "
                TD (&93834775865344)
                  text "Klassifizierung"
                text " "
                TD (&93834775865768)
                  text "öffentlich"
                text " "
              text " "
              TR (&93834775866312)
                text " "
                TD (&93834775866616)
                  text "Referenzierung"
                text " "
                TD (&93834775867040)
                  text "gemSpec_TI-Messenger-FD"
                text " "
              text " "
        text " "
      text " "
      P (&93834775867824)
        attr id "polarion_16"
      text " "
      H1 (&93834775868304)
        attr id "polarion_wiki macro name=module-workitem;params=id=releaseTIMessenger100-3050"
        text "Dokumentinformationen"
      text " "
      P (&93834775868904)
        attr id "polarion_21"
        SPAN (&93834775869264)
          attr style "font-weight: bold;"
          text "Änderungen zur Vorversion"
      text " "
      P (&93834775869864)
        attr id "polarion_22"
        text "Anpassungen des vorliegenden Dokumentes im Vergleich zur Vorversion können Sie der nachfolgenden Tabelle entnehmen."
      text " "
      P (&93834775870464)
        attr id "polarion_23"
      text " "
      P (&93834775870944)
        attr id "polarion_24"
      text " "
      P (&93834775871424)
        attr data-keep-next "true"
        attr id "polarion_25"
        SPAN (&93834775871960)
          attr style "font-weight: bold;"
          text "Dokumentenhistorie"
      text " "
      TABLE (&93834775872560)
        attr class "polarion-Document-table"
        attr id "polarion_wiki macro name=table;params=width=100%|uid=6"
        attr style "width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;border-collapse: collapse;"
        text " "
        TBODY (&93834775873392)
          text " "
          TR (&93834775873696)
            text " "
            TH (&93834775874000)
              attr style "font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 78px;height: 38px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Version"
              BR (&93834775874480)
            text " "
            TH (&93834775874784)
              attr style "background-color: #F0F0F0;text-align: left;vertical-align: top;width: 86.8px;height: 38px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"
              text "Stand"
              BR (&93834775875264)
            text " "
            TH (&93834775875568)
              attr style "background-color: #F0F0F0;text-align: left;vertical-align: top;width: 65.2px;height: 38px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"
              text "Kap./ Seite"
              BR (&93834775876048)
            text " "
            TH (&93834775876352)
              attr style "background-color: #F0F0F0;text-align: left;vertical-align: top;width: 348.4px;height: 38px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"
              text "Grund der Änderung, besondere Hinweise"
              BR (&93834775876832)
            text " "
            TH (&93834783683632)
              attr style "background-color: #F0F0F0;text-align: left;vertical-align: top;width: 120.4px;height: 38px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"
              text "Bearbeitung"
              BR (&93834783684088)
            text " "
          text " "
          TR (&93834783684512)
            text " "
            TD (&93834783684816)
              attr style "text-align: left;vertical-align: top;width: 78px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"
              text "1.0.0 "
            text " "
            TD (&93834783685416)
              attr style "text-align: left;vertical-align: top;width: 86.8px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"
              text "01.10.2021"
            text " "
            TD (&93834783686016)
              attr style "text-align: left;vertical-align: top;width: 65.2px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"
            text " "
            TD (&93834783686496)
              attr style "text-align: left;vertical-align: top;width: 348.4px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"
              text "Erstversion des Dokumentes  "
            text " "
            TD (&93834783687096)
              attr style "text-align: left;vertical-align: top;width: 120.4px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"
              text "gematik"
            text " "
          text " "
          TR (&93834783687816)
            text " "
            TD (&93834783688120)
              attr style "text-align: left;vertical-align: top;width: 78px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"
            text " "
            TD (&93834783688600)
              attr style "text-align: left;vertical-align: top;width: 86.8px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"
            text " "
            TD (&93834783689080)
              attr style "text-align: left;vertical-align: top;width: 65.2px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"
            text " "
            TD (&93834783689560)
              attr style "text-align: left;vertical-align: top;width: 348.4px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"
            text " "
            TD (&93834783690040)
              attr style "text-align: left;vertical-align: top;width: 120.4px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"
            text " "
          text " "
          TR (&93834783690640)
            text " "
            TD (&93834783690944)
              attr style "text-align: left;vertical-align: top;width: 78px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"
              BR (&93834783691304)
            text " "
            TD (&93834783691608)
              attr style "text-align: left;vertical-align: top;width: 86.8px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"
              BR (&93834783691968)
            text " "
            TD (&93834783692272)
              attr style "text-align: left;vertical-align: top;width: 65.2px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"
              BR (&93834783692632)
            text " "
            TD (&93834783692936)
              attr style "text-align: left;vertical-align: top;width: 348.4px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"
              BR (&93834783693296)
            text " "
            TD (&93834783693600)
              attr style "text-align: left;vertical-align: top;width: 120.4px;height: 18.8px;border: 1px solid #CCCCCC;padding: 5px;"
              BR (&93834783693960)
            text " "
          text " "
        text " "
      text " "
      P (&93834783694624)
        attr id "polarion_27"
      text " "
      H1 (&93834783695104)
        attr id "polarion_wiki macro name=module-workitem;params=id=releaseTIMessenger100-3051"
        text "Inhaltsverzeichnis"
      text " "
      DIV (&93834783695704)
        attr id "polarion_wiki macro name=toc"
      text " "
      DIV (&93834783696184)
        attr id "toc_container"
        text " "
        P (&93834783696664)
          attr class "toc_title"
        H1 (&93834783697024)
        P (&93834783697208)
        text " "
        LI (&93834783697512)
          A (&93834783697696)
            attr href "#polarion_wiki macro name=module-workitem;params=id=releaseTIMessenger100-3050"
            text "Dokumentinformationen"
        text " "
        LI (&93834783698296)
          A (&93834783698480)
            attr href "#polarion_wiki macro name=module-workitem;params=id=releaseTIMessenger100-3051"
            text "Inhaltsverzeichnis"
        text " "
        LI (&93834783699080)
          text ":"
          A (&93834783699384)
            attr href "#1"
            text "1 Einordnung des Dokumentes"
        text " "
        LI (&93834783699984)
          text ": :"
          A (&93834783700288)
            attr href "#1.1"
            text "1.1 Zielsetzung"
        text " "
        LI (&93834783700888)
          text ": :"
          A (&93834783701192)
            attr href "#1.2"
            text "1.2 Zielgruppe"
        text " "
        LI (&93834783701792)
          text ": :"
          A (&93834783702096)
            attr href "#1.3"
            text "1.3 Geltungsbereich"
        text " "
        LI (&93834783702696)
          text ": :"
          A (&93834783703000)
            attr href "#1.4"
            text "1.4 Abgrenzungen"
        text " "
        LI (&93834783703600)
          text ": :"
          A (&93834783703904)
            attr href "#1.5"
            text "1.5 Methodik"
        text " "
        LI (&93834783704504)
          text ":"
          A (&93834783704808)
            attr href "#2"
            text "2 Systemüberblick"
        text " "
        LI (&93834783705408)
          text ":"
          A (&93834783705712)
            attr href "#3"
            text "3 Systemkontext"
        text " "
        LI (&93834783706312)
          text ": :"
          A (&93834783706616)
            attr href "#3.1"
            text "3.1 Nachbarsysteme"
        text " "
        LI (&93834783707216)
          text ": :"
          A (&93834783707520)
            attr href "#3.2"
            text "3.2 Messenger-Services"
        text " "
        LI (&93834783708120)
          text ":"
          A (&93834783708424)
            attr href "#4"
            text "4 Übergreifende Festlegungen"
        text " "
        LI (&93834783709024)
          text ": :"
          A (&93834783709328)
            attr href "#4.1"
            text "4.1 Datenschutz und Sicherheit"
        text " "
        LI (&93834783709928)
          text ": :"
          A (&93834783710232)
            attr href "#4.2"
            text "4.2 Authentifizierung von Nutzern"
        text " "
        LI (&93834783710832)
          text ": : :"
          A (&93834783711136)
            attr href "#4.2.1"
            text "4.2.1 Smartcard-IDP-Dienst"
        text " "
        LI (&93834783711736)
          text ": : :"
          A (&93834783712040)
            attr href "#4.2.2"
            text "4.2.2 Verwaltung der Nutzersession"
        text " "
        LI (&93834783712640)
          text ": :"
          A (&93834783712944)
            attr href "#4.3"
            text "4.3 DNS-Namensauflösung"
        text " "
        LI (&93834783713544)
          text ": :"
          A (&93834783713848)
            attr href "#4.4"
            text "4.4 Test"
        text " "
        LI (&93834783714448)
          text ": :"
          A (&93834783714752)
            attr href "#4.5"
            text "4.5 Betrieb"
        text " "
        LI (&93834783715352)
          text ": : :"
          A (&93834783715656)
            attr href "#4.5.1"
            text "4.5.1 Performance"
        text " "
        LI (&93834771050424)
          text ": : :"
          A (&93834771050728)
            attr href "#4.5.2"
            text "4.5.2 Monitoring"
        text " "
        LI (&93834771051304)
          text ":"
          A (&93834771051608)
            attr href "#5"
            text "5 Funktionsmerkmale"
        text " "
        LI (&93834771052208)
          text ": :"
          A (&93834771052512)
            attr href "#5.1"
            text "5.1 Umsetzung der Matrix-API"
        text " "
        LI (&93834771053112)
          text ": :"
          A (&93834771053416)
            attr href "#5.2"
            text "5.2 Funktionen der Systemkomponenten"
        text " "
        LI (&93834771054016)
          text ": : :"
          A (&93834771054320)
            attr href "#5.2.1"
            text "5.2.1 Messenger-Service"
        text " "
        LI (&93834771054920)
          text ": : : :"
          A (&93834771055224)
            attr href "#5.2.1.1"
            text "5.2.1.1 Matrix-Homeserver"
        text " "
        LI (&93834771055824)
          text ": : : :"
          A (&93834771056128)
            attr href "#5.2.1.2"
            text "5.2.1.2 Messenger-Proxy"
        text " "
        LI (&93834771056728)
          text ": : : :"
          A (&93834771057032)
            attr href "#5.2.1.3"
            text "5.2.1.3 PASSporT-Service"
        text " "
        LI (&93834771057632)
          text ": : :"
          A (&93834771057936)
            attr href "#5.2.2"
            text "5.2.2 Registrierungs-Dienst"
        text " "
        LI (&93834771058536)
          text ": : :"
          A (&93834771058840)
            attr href "#5.2.3"
            text "5.2.3 Push-Gateway"
        text " "
        LI (&93834771059440)
          text ":"
          A (&93834771059744)
            attr href "#6"
            text "6 Anhang A – Verzeichnisse"
        text " "
        LI (&93834771060344)
          text ": :"
          A (&93834771060648)
            attr href "#6.1"
            text "6.1 Abkürzungen"
        text " "
        LI (&93834771061248)
          text ": :"
          A (&93834771061552)
            attr href "#6.2"
            text "6.2 Glossar"
        text " "
        LI (&93834771062152)
          text ": :"
          A (&93834771062456)
            attr href "#6.3"
            text "6.3 Abbildungsverzeichnis"
        text " "
        LI (&93834771063056)
          text ": :"
          A (&93834771063360)
            attr href "#6.4"
            text "6.4 Tabellenverzeichnis"
        text " "
        LI (&93834771063960)
          text ": :"
          A (&93834771064264)
            attr href "#6.5"
            text "6.5 Referenzierte Dokumente"
        text " "
        LI (&93834771064864)
          text ": : :"
          A (&93834771065168)
            attr href "#6.5.1"
            text "6.5.1 Dokumente der gematik"
        text " "
        LI (&93834771065768)
          text ": : :"
          A (&93834771066072)
            attr href "#6.5.2"
            text "6.5.2 Weitere Dokumente"
        text " "
      text " "
      P (&93834771066792)
        attr id "polarion_38"
      text " "
      DIV (&93834771067272)
        attr contenteditable "false"
        attr data-is-landscape "false"
        attr id "polarion_wiki macro name=page_break;params=uid=1"
      text " "
      H2 (&93834771068104)
        attr id "1"
        text "1 Einordnung des Dokumentes"
      text " "
      H3 (&93834771068704)
        attr id "1.1"
        text "1.1 Zielsetzung"
      text " "
      P (&93834771069304)
        attr id "polarion_40"
        text "Beim vorliegenden Dokument handelt es sich um die Festlegungen zur ersten Ausbaustufe des TI-Messengers. Diese Ausbaustufe ist definiert durch die Ad-hoc-Kommunikation zwischen Organisationen des Gesundheitswesens. Dabei wird insbesondere die Ad-hoc-Kommunikation zwischen Leistungserbringern bzw. zwischen Leistungserbringerinstitutionen betrachtet. Festlegungen zur Nutzergruppe der Versicherten und Anforderungen an Kassenorganisationen werden in der zweiten Ausbaustufe des TI-Messengers Berücksichtigung finden und daher im vorliegenden Dokument nicht weiter betrachtet."
      text " "
      P (&93834771069904)
        attr id "polarion_61"
        text "Die vorliegende Spezifikation definiert die Anforderungen zu Herstellung, Test und Betrieb des Produkttyps TI-Messenger-Fachdienst. Der Fachdienst ermöglicht die sichere Ad-hoc-Kommunikation zwischen Teilnehmern. Aus den Kommunikationsbeziehungen mit dem TI-Messenger-Client und dem VZD-FHIR-Directory resultieren vom TI-Messenger-Fachdienst anzubietende Schnittstellen, die in diesem Dokument normativ beschrieben werden. Vom TI-Messenger-Fachdienst genutzte Schnittstellen liegen zumeist in anderen Verantwortungsbereichen (z. B. IDP-Dienst). Diese werden in der entsprechenden Produkttypspezifikation definiert."
      text " "
      H3 (&93834771070504)
        attr id "1.2"
        text "1.2 Zielgruppe"
      text " "
      P (&93834771071104)
        attr id "polarion_44"
        text "Das Dokument richtet sich zwecks der Realisierung an Hersteller des Produkttypen Fachdienst TI-Messenger sowie an Anbieter, welche diesen Produkttypen betreiben [gemKPT_Betr]. Alle Hersteller und Anbieter von TI-Anwendungen, die Schnittstellen der Komponente nutzen, oder Daten mit dem Produkttypen Fachdienst TI-Messenger austauschen oder solche Daten verarbeiten, müssen dieses Dokument ebenso berücksichtigen."
      text " "
      P (&93834771071704)
        attr id "polarion_125"
      text " "
      H3 (&93834771072184)
        attr id "1.3"
        text "1.3 Geltungsbereich"
      text " "
      P (&93834771072784)
        attr id "polarion_49"
        text "Dieses Dokument enthält normative Festlegungen zur Telematikinfrastruktur des deutschen Gesundheitswesens. Der Gültigkeitszeitraum der vorliegenden Version und deren Anwendung in Zulassungs- oder Abnahmeverfahren wird durch die gematik GmbH in gesonderten Dokumenten (z. B. gemPTV_ATV_Festlegungen, Produkttypsteckbrief, Anbietertypsteckbrief, u.a.) oder Webplattformen (z. B. gitHub, u.a.) festgelegt und bekanntgegeben."
      text " "
      P (&93834771073384)
        attr id "polarion_104"
      text " "
      P (&93834771073864)
        attr id "polarion_120"
        SPAN (&93834771074224)
          attr style "font-weight: bold;"
          text "Schutzrechts-/Patentrechtshinweis"
      text " "
      P (&93834771074824)
        attr id "polarion_137"
        SPAN (&93834771075184)
          attr style "font-style: italic;"
          text "Die nachfolgende Spezifikation ist von der gematik allein unter technischen Gesichtspunkten erstellt worden. Im Einzelfall kann nicht ausgeschlossen werden, dass die Implementierung der Spezifikation in technische Schutzrechte Dritter eingreift. Es ist allein Sache des Anbieters oder Herstellers, durch geeignete Maßnahmen dafür Sorge zu tragen, dass von ihm aufgrund der Spezifikation angebotene Produkte und/oder Leistungen nicht gegen Schutzrechte Dritter verstoßen und sich ggf. die erforderlichen Erlaubnisse/Lizenzen von den betroffenen Schutzrechtsinhabern einzuholen. Die gematik GmbH übernimmt insofern keinerlei Gewährleistungen."
      text " "
      P (&93834771075784)
        attr id "polarion_53"
        SPAN (&93834771076144)
          attr style "font-style: italic;"
          BR (&93834771076504)
      text " "
      H3 (&93834771076808)
        attr id "1.4"
        text "1.4 Abgrenzungen"
      text " "
      P (&93834771077408)
        attr id "polarion_58"
        text "Spezifiziert werden in dem Dokument die von dem Produkttyp bereitgestellten (angebotenen) Schnittstellen. Benutzte Schnittstellen werden hingegen in der Spezifikation desjenigen Produkttypen beschrieben, der diese Schnittstelle bereitstellt. Auf die entsprechenden Dokumente wird referenziert (siehe auch Anhang, Kapitel "
        SPAN (&93834771077888)
          attr class "polarion-rte-link"
          attr data-item-id "ML-118392"
          attr data-option-id "longoutline"
          attr data-scope "Mainline_OPB1"
          attr data-type "crossReference"
          attr id "fake"
        text ")."
      text " "
      P (&93834771079368)
        attr id "polarion_59"
        text "Die vollständige Anforderungslage für den Produkttyp ergibt sich aus weiteren Konzept- und Spezifikationsdokumenten, diese sind in dem Produkttypsteckbrief des Produkttyps TI-Messenger verzeichnet."
      text " "
      P (&93834771079968)
        attr id "polarion_35"
      text " "
      H3 (&93834771080448)
        attr id "1.5"
        text "1.5 Methodik"
      text " "
      P (&93834771081048)
        attr id "polarion_179"
        text "Die Spezifikation ist im Stil einer RFC-Spezifikation verfasst. Dies bedeutet: "
      text " "
      UL (&93834771081648)
        attr id "polarion_183"
        text " "
        LI (&93834771082128)
          SPAN (&93834771082312)
            attr style "font-weight: bold;"
            text "Der gesamte Text in der Spezifikation ist sowohl für den Hersteller des Produktes TI-Messenger-Fachdienst als auch für den betreibenden Anbieter entsprechend  [gemKPT_Betr] verbindlich zu betrachten und gilt sowohl als Zulassungskriterium beim Produkt und Anbieter."
        text " "
        LI (&93834771082912)
          text "Die Verbindlichkeit SOLL durch die dem RFC 2119 [RFC2119] entsprechenden, in Großbuchstaben geschriebenen deutschen Schlüsselworte MUSS, DARF NICHT, SOLL, SOLL NICHT, KANN gekennzeichnet werden. "
        text " "
        LI (&93834781663336)
          text "Da in dem Beispielsatz „Eine leere Liste DARF NICHT ein Element besitzen.“ die Phrase „DARF NICHT“ semantisch irreführend wäre (wenn nicht ein, dann vielleicht zwei?), wird in diesem Dokument stattdessen „Eine leere Liste DARF KEIN Element besitzen.“ verwendet."
        text " "
        LI (&93834781663760)
          text "Die Schlüsselworte KÖNNEN außerdem um Pronomen in Großbuchstaben ergänzt werden, wenn dies den Sprachfluss verbessert oder die Semantik verdeutlicht."
        text " "
      text " "
      P (&93834781664304)
        attr id "polarion_211"
        text "Anwendungsfälle und Akzeptanzkriterien als Ausdruck normativer Festlegungen werden als Grundlage für Erlangung der Zulassung durch Tests geprüft und nachgewiesen. Sie besitzen eine eindeutige, permanente ID, welche als Referenz verwendet werden SOLL. Die Tests werden gegen eine von der gematik gestellte Referenz-Implementierung durchgeführt. "
      text " "
      P (&93834781664880)
        attr id "polarion_213"
        text "Anwendungsfälle und Akzeptanzkriterien werden im Dokument wie folgt dargestellt:"
        BR (&93834781665360)
        text " "
        SPAN (&93834781665664)
          attr style "font-weight: bold;"
          text "<ID> - <Titel des Anwendungsfalles / Akzeptanzkriteriums>"
          BR (&93834781666144)
        text "Text / Beschreibung"
        BR (&93834781666448)
        text "[<=]"
      text " "
      P (&93834781666872)
        attr id "polarion_214"
        text "Die einzelnen Elemente beschreiben:"
      text " "
      UL (&93834781667472)
        attr id "polarion_215"
        text " "
        LI (&93834781667952)
          SPAN (&93834781668136)
            attr style "font-weight: bold;"
            text "ID"
          text ": einen eindeutigen Identifier."
        text " "
        LI (&93834781668856)
          attr style "list-style: none"
          text " "
          UL (&93834781669336)
            text " "
            LI (&93834781669640)
              text "Bei einem Anwendungsfall besteht der Identifier aus der Zeichenfolge 'AF_' gefolgt von einer Zahl, "
            text " "
            LI (&93834781670064)
              text "Der Identifier eines Akzeptanzkriterium wird von System vergeben, z.B. die Zeichenfolge 'ML_' gefolgt von einer Zahl"
            text " "
        text " "
        LI (&93834781670608)
          SPAN (&93834781670792)
            attr style "font-weight: bold;"
            text "Titel des Anwendungsfalles / Akzeptanzkriteriums"
          text ": Ein Titel, welcher zusammenfassend den Inhalt beschreibt"
        text " "
        LI (&93834781671512)
          SPAN (&93834781671696)
            attr style "font-weight: bold;"
            text "Text / Beschreibung"
          text ": Ausführliche Beschreibung des Inhalts. Kann neben Text Tabellen, Abbildungen und Modelle enthalten"
        text " "
      text " "
      P (&93834781672536)
        attr id "polarion_216"
        text "Dabei umfasst der Anwendungsfall bzw. das Akzeptanzkriterium sämtliche zwischen ID und Textmarke [<=] angeführten Inhalte."
      text " "
      P (&93834781673136)
        attr id "polarion_217"
        text "Der für die Erlangung einer Zulassung notwendige  Nachweis der Erfüllung des Anwendungsfalls wird in den jeweiligen  Steckbriefen festgelegt, in denen jeweils der Anwendungsfall gelistet ist. Akzeptanzkriterien werden in der Regel nicht im Steckbrief gelistet."
      text " "
      P (&93834781673736)
        attr id "polarion_218"
        SPAN (&93834781674096)
          attr style "font-weight: bold;"
          text "Hinweis auf offene Punkte"
      text " "
      TABLE (&93834781674696)
        attr class "polarion-Document-table"
        attr id "polarion_wiki macro name=table;params=header=no|width=100%|uid=167"
        attr style "width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;"
        text " "
        TBODY (&93834781675528)
          text " "
          TR (&93834781675832)
            text " "
            TD (&93834781676136)
              attr style "width: 591.6px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"
              SPAN (&93834781676496)
                attr style "font-style: italic;color: #3333FF;"
                text "Offener Punkt: Das Kapitel wird in einer späteren Version des Dokumentes ergänzt."
            text " "
          text " "
        text " "
      text " "
      P (&93834781677456)
        attr id "polarion_172"
      text " "
      DIV (&93834781677936)
        attr contenteditable "false"
        attr data-is-landscape "false"
        attr id "polarion_wiki macro name=page_break;params=uid=173"
      text " "
      H2 (&93834781678768)
        attr id "2"
        text "2 Systemüberblick"
      text " "
      P (&93834781679368)
        attr id "polarion_78"
        text "Der TI-Messenger-Fachdienst ermöglicht eine sichere Kommunikation verschiedener Teilnehmer im deutschen Gesundheitswesen. Der TI-Messenger-Fachdienst basiert auf dem offenen und dezentralen Kommunikationsprotokoll Matrix. Dabei stellt der Matrix Standard RESTful-APIs für die sichere Übertragung von JSON-Objekten zwischen Matrix-Clients und weiteren Diensten bereit. Die sichere Kommunikation zwischen den einzelnen Akteuren findet in verschlüsselter Form in Räumen auf den beteiligten Matrix-Homeservern statt."
        BR (&93834781679848)
        BR (&93834781680032)
        text "Der TI-Messenger-Fachdienst besteht aus dezentralen und zentralen Teilkomponenten, die ein Anbieter bereitstellen MUSS. Bei den dezentralen Teilkomponenten handelt es sich um die Messenger-Services. Die Messenger-Services beinhalten jeweils Matrix-Homeserver und Komponenten, welche dafür sorgen, dass eine Föderation der Matrix-Homeserver nur zwischen verifizierten Domains stattfindet. Diese werden in der Spezifikation als Messenger-Proxy und PASSporT-Service bezeichnet. Messenger-Services werden für einzelne Organisationen (z. B. Leistungserbringerinstitutionen, Verbände) bereitgestellt und erlauben die Nutzung durch alle Nutzer einer Organisation. Weiterhin KÖNNEN Messenger-Services durch Organisationen bereitgestellt werden, die nur für Leistungserbringer nutzbar sind. Diese unterscheiden sich technisch nicht von anderen Messenger-Services. Einzig die zugeordnete Organisation bietet ein für Leistungserbringer Authentifizierungsverfahren an."
        SPAN (&93834781680336)
          attr style "background-color: #FFFFCC;"
        SPAN (&93834781680696)
          attr style "background-color: #FFCCCC;"
          BR (&93834781681056)
          BR (&93834781681240)
        text "Die Kommunikation zwischen einem TI-Messenger-Client und einem TI-Messenger-Fachdienst erfolgt über die Messenger-Proxies der Messenger-Services. Hier findet zunächst die TLS-Terminierung der Verbindungen von den TI-Messenger-Clients statt. Der Messenger-Proxy kontrolliert die Föderation durch Abfragen am Registrierungs-Dienst. Hierbei wird geprüft, ob die beteiligten Matrix-Homeserver registrierte Mitglieder der Föderation sind und ein Teilnehmer berechtigt ist, Requests auf dem Homeserver auszulösen."
        BR (&93834781681544)
        BR (&93834781681728)
        text "Neben den dezentralen Messenger-Services besteht der TI-Messenger-Fachdienst aus einem zentralen Registrierungs-Dienst sowie einem zentralen Push-Gateway. Über den Registrierungs-Dienst bekommt der Anbieter die Möglichkeit die Domainnamen der von ihm bereitgestellten Messenger-Services in das zentrale VZD-FHIR-Directory einzutragen, Messenger-Services automatisiert Organisationen zur Verfügung zu stellen und Domainabfragen vorzunehmen. Das Push-Gateway dient zur Übertragung von Benachrichtigungen (Notifications) an die jeweiligen TI-Messenger-Clients um den Eingang einer neuen Nachricht zu signalisieren. Für die Authentisierung von Nutzern des TI-Messenger kommen unterschiedliche Verfahren zur Anwendung. Beispielhaft soll auf die Möglichkeit der Verwendung eines IDP-Dienstes verwiesen werden."
      text " "
      P (&93834781682152)
        attr id "polarion_150"
        text "Die folgende Abbildung zeigt einen Systemüberblick aller am TI-Messenger beteiligten Teilkomponenten in vereinfachter Form."
      text " "
      P (&93834781682752)
        attr id "polarion_128"
      text " "
      P (&93834781683232)
        attr id "polarion_103"
        attr style "text-align: center;"
        IMG (&93834781683768)
          attr src "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAApQAAAHHCAYAAAABPcj4AAAgAElEQVR4Aey9bYhd15nveT711Tf7y4wFw0jqLxnfGW6uM41rSofW2DRuELQaTHDTulGDXeXWiTAJEekLthKIfQcmrgiGqsDQPYEQN0yIIF24mkCVcpvE6gtOmws21RHuqFF1tz6kE4EuiaCC8CexLv+197P2s9d+32e/nv0/ULX32WvttdZ+1rOe9T..."
          attr style "width: 500px;height: 344px;"
      text " "
      P (&93834781684424)
        attr id "polarion_73"
        attr style "text-align: center;"
      text " "
      P (&93834781685080)
        attr class "polarion-rte-caption-paragraph"
        attr id "polarion_66"
        attr style "text-align: center;"
        text "Abbildung"
        SPAN (&93834781685912)
          attr class "polarion-rte-caption"
          attr data-sequence "Abbildung"
          text "1"
        text ": Systemüberblick (Vereinfachte Darstellung)"
      text " "
      P (&93834781686808)
        attr id "polarion_18"
      text " "
      H2 (&93834781687288)
        attr id "3"
        text "3 Systemkontext"
      text " "
      P (&93834781687888)
        attr id "polarion_20"
        text "Der folgende Abschnitt setzt den TI-Messenger-Fachdienst in den Systemkontext des TI-Messenger-Dienstes."
      text " "
      H3 (&93834781688488)
        attr id "3.1"
        text "3.1 Nachbarsysteme"
      text " "
      P (&93834781689088)
        attr id "polarion_19"
        SPAN (&93834781689448)
          attr style "background-color: #FFFFFF;"
          text "Für den Betrieb des TI-Messenger-Fachdienstes werden weitere Systeme benötigt. Dazu gehört der Smartcard-IDP-Dienst der gematik und das VZD-FHIR-Directory. Die Abbildung"
          SPAN (&93834781689928)
            attr style "font-style: italic;"
            text "Systemüberblick"
          text "aus Kapitel 2 zeigt deren Beziehung zum TI-Messenger-Fachdienst."
      text " "
      P (&93834781690648)
        attr id "polarion_90"
        text "Der Smartcard-IDP-Dienst stellt allen berechtigten Teilnehmern ID_TOKEN (AuthN) sowie"
        SPAN (&93834781691128)
          attr style "text-decoration: line-through;"
        text "ACCESS_TOKEN (AuthZ)"
        SPAN (&93834781691608)
          attr style "text-decoration: line-through;"
        text ", gemäß des OpenID Foundation [OpenID] spezifizierten Protokolls, zur Verfügung. Mit den ausgestellten Token erfolgt die notwendige Authentisierung der TI-Messenger-Nutzer bei der initialen Registrierung eines Messenger-Service für eine Organisation, oder für schreibenden Zugriff auf das VZD-FHIR-Directory mittels TI-Messenger-Client. Dazu ist es notwendig das der TI-Messenger-Client und das Frontend des Registrierungs-Dienstes sich bei dem  Smartcard IDP-Dienst registriert. Damit ist sichergestellt das Änderungen an den VZD-FHIR-Directory Einträgen durch den TI-Messenger-Client möglich sind."
      text " "
      P (&93834781692208)
        attr id "polarion_209"
        text "Das zentrale VZD-FHIR-Directory bildet ein Verzeichnis aller TI-Messenger-Fachdienste, Organisationen und Leistungserbringer und bietet die Möglichkeit der Suche von Teilnehmern anhand konfigurierter Merkmale. Der TI-Messenger-Fachdienst trägt bei erfolgreicher Aufnahme in die Föderation im VZD-FHIR-Directory (in die Organisationsressource) seine Matrix-Domain ein. Das VZD-FHIR-Directory vertraut den Matrix-Homerservern der jeweiligen Messenger-Services, wenn die Domain des Messenger-Service erfolgreich in das VZD-FHIR-Directory eingetragen wurde."
        SPAN (&93834781692688)
          attr style "text-decoration: line-through;background-color: #FFFFCC;"
      text " "
      P (&93834781693168)
        attr id "polarion_97"
      text " "
      H3 (&93834781693648)
        attr id "3.2"
        text "3.2 Messenger-Services"
      text " "
      P (&93834781694248)
        attr id "polarion_141"
        SPAN (&93834781694608)
          attr style "background-color: #FFFFCC;"
        text "Durch TI-Messenger-Anbieter werden Messenger-Services jeweils für eine Organisation des Gesundheitswesens (z. B. Arztpraxis, Krankenhaus, Apotheke, Verband, etc.) bereitgestellt. Die Bereitstellung erfolgt durch den Registrierungs-Dienst eines TI-Messenger-Anbieters dezentral und kann"
        SPAN (&93834781695088)
          attr style "font-style: italic;"
          text "on-premise"
        text "oder innerhalb von Rechenzentren stattfinden. Jeder Messenger-Service MUSS einer Organisation zugeordnet sein. Die Messenger-Services unterscheiden sich nur in den jeweils verwendeten Authentifizierungsverfahren. Diese werden durch die jeweilige Organisation festgelegt und bereitgestellt. Die jeweilige Organisation MUSS die Kontrolle über die Benutzerverwaltung haben, um zu jedem Zeitpunkt Nutzer aus dem TI-Messenger ausschließen zu können. Dabei MÜSSEN Nutzer vom Messenger-Service gelöscht/gesperrt werden, wenn der Nutzer innerhalb der Nutzerverwaltung gelöscht/gesperrt wurde."
        SPAN (&93834781695688)
          attr style "background-color: #FFFFCC;"
      text " "
      P (&93834781696176)
        attr id "polarion_131"
        SPAN (&93834781696536)
          attr style "font-weight: bold;background-color: #FFFFCC;"
          BR (&93834781696896)
        text " "
        SPAN (&93834781697200)
          attr style "font-weight: bold;"
          text "Authentifizierungsverfahren"
      text " "
      P (&93834781697800)
        attr id "polarion_39"
        text "Messenger-Services können je nach Art der Organisation verschiedene Authentifizierungsverfahren anbieten. Sind bereits Systeme wie Active-Directory oder LDAP innerhalb einer Organisation verfügbar, können diese entsprechend genutzt werden, indem der Matrix-Homeserver bei diesen registriert wird. Sind keine Authentifizierungsverfahren vorhanden (z. B. innerhalb einer Arztpraxis) KÖNNEN TI-Messenger-Anbieter entsprechende Authentifizierungsverfahren zur Verfügung stellen. Diese erlauben einen Login für Nutzer (z. B. Benutzername/Passwort und einen zweiten Faktor) und können auch von weiteren Systemen nachgenutzt werden."
        SPAN (&93834781698280)
          attr style "background-color: #FFFFCC;"
        text "Die nachfolgende Abbildung verdeutlicht das Authentifizieren von Nutzern an einen Messenger-Service."
        BR (&93834781698760)
      text " "
      P (&93834781699064)
        attr data-keep-next "true"
        attr id "polarion_118"
        attr style "text-align: center;"
        SPAN (&93834781699776)
          attr style "text-decoration: line-through;"
          IMG (&93834781700136)
            attr src "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA6sAAAGqCAYAAADtIdIJAAAgAElEQVR4nO29X4gr2X2oq6e4zyXONMGxG/ueibj43siH2PTAbFnozIwFwSCwQzrGD20bZksJ6PQw5KTJH6bNQIRjPOr9YNQBk/bDHOshAw07zQgGRo0Pw5ENscU8bOQBGxlk0ItBEMMW9H7Q4+8+SCVVlVaVVqmqVKuk74OPYbrVpSW1ure+XqtWZQ..."
            attr style "width: 506px;height: 230px;"
      text " "
      P (&93834781700792)
        attr class "polarion-rte-caption-paragraph"
        attr id "polarion_55"
        attr style "text-align: center;"
        text "Abbildung"
        SPAN (&93834781701624)
          attr class "polarion-rte-caption"
          attr data-sequence "Abbildung"
          text "2"
        text ": Beispiel - Authentifizierung von Nutzern einer Organisation"
      text " "
      P (&93834781702520)
        attr id "polarion_136"
      text " "
      P (&93834781703000)
        attr id "polarion_174"
        SPAN (&93834781703360)
          attr style "background-color: #FFFFCC;"
      text " "
      P (&93834781703840)
        attr id "polarion_185"
        SPAN (&93834781704200)
          attr style "font-weight: normal;background-color: #FFFFCC;"
      text " "
      P (&93834781704680)
        attr id "polarion_195"
        SPAN (&93834781705040)
          attr style "text-decoration: line-through;background-color: #FFFFCC;"
      text " "
      H2 (&93834781705520)
        attr id "4"
        text "4 Übergreifende Festlegungen"
      text " "
      H3 (&93834781706120)
        attr id "4.1"
        text "4.1 Datenschutz und Sicherheit"
      text " "
      DIV (&93834781706720)
        attr id "ML-123614"
        text " "
        P (&93834781707200)
          B (&93834781707384)
            text "ML-123614 - Verbot von Organisationsaccounts für Versicherte"
        text " "
        P (&93834781707808)
          text "Der Anbieter MUSS sicherstellen, dass organisationsbasierte TI-Messenger-Accounts nicht an Versicherte vergeben werden. Er MUSS sicherstellen, dass nur Accounts an Personen vergeben werden, mit denen ein Beschäftigungsverhältnis besteht. Hierzu ist eine organisatorische Lösung ausreichend."
          BR (&93834781708112)
          text " "
          B (&93834781708416)
            text "[<=]"
        text " "
      text " "
      DIV (&93834781708960)
        attr id "ML-123618"
        text " "
        P (&93834781709440)
          B (&93834781709624)
            text "ML-123618 - PUSH-Benachrichtigungen"
        text " "
        P (&93834781710048)
          text "TI-Messenger-Anbieter MÜSSEN dafür sorgen, dass diese Gateways externe PUSH-Dienste datenschutzkonform nutzen. Hierzu wurden folgende Kriterien definiert, die in jedem Fall beachtet werden MÜSSEN:"
        UL (&93834781710352)
          text " "
          LI (&93834781710656)
            text "PUSH-Benachrichtigungen dürfen erst nach expliziter Zustimmung der Nutzer erfolgen (Opt-In)."
          text " "
          LI (&93834781711080)
            text "Alle PUSH-Nachrichteninhalte, auf die der PUSH-Anbieter nicht zugreifen können muss,"
            SPAN (&93834781711384)
              attr id "polarion-comment:53"
            text "MÜSSEN verschlüsselt werden."
          text " "
          LI (&93834781711984)
            text "PUSH-Nachrichten MÜSSEN vor dem Versenden um einen Zufallswert von 0-10 Sekunden verzögert werden um Timingbasierte Profilbildung zu erschweren."
          text " "
          LI (&93834781712408)
            text "Wo"
            SPAN (&93834781712712)
              attr id "polarion-comment:209"
            text "möglich, MÜSSEN PUSH-Anbieter gewählt werden, die eine Wahrung der Betroffenenrechte für personenbezogene Informationen ermöglichen."
          text " "
          LI (&93834781713312)
            text "Wenn ein Zielclient gerade aktiv ist, soll dieser selbsttätig auf einkommende Nachrichten lauschen und nicht per PUSH benachrichtigt werden."
          text " "
          LI (&93834781713736)
            text "PUSH-Nachrichten dürfen keine Nachrichteninhalte enthalten, ihre Funktion besteht lediglich darin Clientsysteme zu informieren, dass Nachrichten abrufbar sind und eine Synchronisierung mit dem Homeserver nötig ist. Es DARF nur die Room-ID und Event-ID enthalten sein."
            SPAN (&93834781714040)
              attr id "polarion-comment:87"
            BR (&93834781714400)
            text " "
            SPAN (&93834781714704)
              attr id "polarion-comment:54"
          text " "
        text " "
        B (&93834781715304)
          text "[<=]"
        P (&93834781715608)
        text " "
      text " "
      P (&93834781716032)
        attr id "polarion_74"
        text "Für Details der Verschlüsselung und enthaltene personenbezogene Daten siehe [MSC 3013]."
      text " "
      DIV (&93834781716632)
        attr id "ML-123615"
        text " "
        P (&93834781717112)
          B (&93834781717296)
            text "ML-123615 - Flächendeckende Verwendung von TLS"
        text " "
        P (&93834781717720)
          text "Betreiber und Hersteller MÜSSEN sicherstellen, dass sämtliche Verbindungen zwischen Komponenten des TI-Messengers mittels TLS"
          SPAN (&93834781718024)
            attr id "polarion-comment:55"
          text "kommunizieren, sofern diese Kommunikation die Grenzen einer"
          SPAN (&93834781718504)
            attr id "polarion-comment:211"
          text "virtuellen/physischen Maschine überschreitet. Hierzu MUSS mindestens serverseitig authentizitätsgeschütztes TLS verwendet werden. Sofern kein beidseitiges TLS verwendet wird, MUSS die Authentizität der Clientseite mit gleichwertiger Sicherheit"
          SPAN (&93834781718984)
            attr style "text-decoration: line-through;"
            SPAN (&93834781719344)
              attr id "polarion-comment:200"
            text " "
          text "sichergestellt werden."
          SPAN (&93834781719944)
            attr id "polarion-comment:157"
          text "Es gelten die Festlegungen aus [gemSpec_Krypt]."
          SPAN (&93834781720424)
            attr style "background-color: #FFFF99;"
            SPAN (&93834781720784)
              attr id "polarion-comment:208"
            BR (&93834781721144)
            text " "
          text " "
          B (&93834781721568)
            text "[<=]"
        text " "
      text " "
      DIV (&93834781722112)
        attr id "ML-123616"
        text " "
        P (&93834781722592)
          B (&93834781722776)
            text "ML-123616 - Abweichungen vom Matrix-Standard"
        text " "
        P (&93834781723200)
          text "Hersteller von TI-Messenger-Komponenten MÜSSEN sämtliche, nicht in der TI-Messenger-Spezifikation beschriebenen, Abweichungen vom Matrix-Protokoll oder den MUST- oder SHOULD-Empfehlungen des Matrix-Protokolls dokumentieren und begründen."
          BR (&93834781723504)
          text " "
          B (&93834781723808)
            text "[<=]"
        text " "
      text " "
      DIV (&93834781724352)
        attr id "ML-123617"
        text " "
        P (&93834781724832)
          B (&93834781725016)
            text "ML-123617 - Löschfristen für Homeserver"
        text " "
        P (&93834781725440)
          text "Betreiber MÜSSEN sicherstellen, dass Events, Gesprächsinhalten und mit einzelnen Gesprächen assoziierte Daten (z.B. versandte Dateien) maximal für 6 Monate auf Homeservern verbleiben und danach gelöscht werden."
          BR (&93834781725744)
          text "Hersteller MÜSSEN eine Funktion für Homeserver anbieten, über die eine Löschfrist für diese Daten konfigurierbar ist."
          BR (&93834781726048)
          text " "
          B (&93834781726352)
            text "[<=]"
        text " "
      text " "
      DIV (&93834781726896)
        attr id "ML-123621"
        text " "
        P (&93834781727376)
          B (&93834781727560)
            text "ML-123621 - Interoperabilität von Zusatzfunktionen für den TI-Messenger-Fachdienst"
        text " "
        P (&93834781727984)
          text "Hersteller MÜSSEN sicherstellen, dass alle implementierten Funktionen, die über den gewöhnlichen Funktionsumfang einer TI-Messenger-Komponente hinausgehen die Sicherheit des Produkts nicht gefährden und die Interoperabilität mit anderen TI-Messenger-Produkten erhalten. Ebenso MÜSSEN Hersteller sicherstellen, dass TI-Messenger-Fachdienstbestandteile resilient auf unerwartete Eingaben reagieren."
          BR (&93834781728288)
          text " "
          B (&93834768027336)
            text "[<=]"
        text " "
      text " "
      DIV (&93834768027880)
        attr id "ML-123619"
        text " "
        P (&93834768028336)
          B (&93834768028520)
            text "ML-123619 - Protokollierung zum Zwecke der Fehler- bzw. Störungsbehebung"
        text " "
        P (&93834768028944)
          SPAN (&93834768029128)
            attr style "font-size: 10pt;color: #000000;background-color: #FFFFFF;line-height: 1.5;"
            text "Falls im TI-Messenger-Fachdienst eine Protokollierung zum Zwecke der Fehler- bzw. Störungsbehebung erfolgt, MUSS der Fachdienst unter Berücksichtigung des Art. 25 Abs. 2 DSGVO sicherstellen, dass in den Protokolldaten entsprechend dem Datenschutzgrundsatz nach Art. 5 DSGVO nur personenbezogene Daten in der Art und dem Umfang enthalten sind, wie sie zur Behebung erforderlich sind und dass die erzeugten Protokolldaten im Fachdienst nach der Behebung unverzüglich gelöscht werden. "
          SPAN (&93834768029608)
            attr style "font-size: 10pt;color: #000000;line-height: 1.5;"
            text "Sofern andere gesetzliche Grundlagen wie §331 SGB V nicht überwiegen sind hierzu nur anonymisierte Daten zu protokollieren."
          SPAN (&93834768030088)
            attr style "font-size: 10pt;color: #000000;background-color: #FFFF99;line-height: 1.5;"
            SPAN (&93834768030448)
              attr id "polarion-comment:230"
          SPAN (&93834768030808)
            attr style "font-size: 10pt;color: #000000;background-color: #FFFFFF;line-height: 1.5;"
            BR (&93834768031168)
            text " "
          text " "
          B (&93834768031592)
            text "[<=]"
        text " "
      text " "
      DIV (&93834768032136)
        attr id "ML-123620"
        text " "
        P (&93834768032616)
          B (&93834768032800)
            text "ML-123620 - Explizites Verbot von Profiling für TI-Messenger-Anbieter"
        text " "
        P (&93834768033224)
          text "Anbieter von TI-Messenger-Komponenten DÜRFEN NICHT Daten zu Profilingzwecken sammeln. Dies betrifft insbesondere eine Überwachung welche Akteure mit welchen anderen Akteuren kommunizieren."
          SPAN (&93834768033528)
            attr id "polarion-comment:228"
          BR (&93834768033888)
          text " "
          BR (&93834768034192)
          text "Die gematik kann nach § 331 Abs. 2 SGB V Daten festlegen, die Anbieter von Komponenten und Dienste der gematik offenzulegen bzw. zu übermitteln haben, sofern diese erforderlich sind, um den gesetzlichen Auftrag der gematik zur Überwachung des Betriebs zur Gewährleistung der Sicherheit, Verfügbarkeit und Nutzbarkeit der Telematikinfrastruktur zu erfüllen. Nur die hierfür erforderlichen personenbezogenen Daten dürfen von den Anbietern und Herstellern als Ausnahme vom Profilingverbot erhoben und ausschließlich für den genannten Zweck verwendet werden."
          SPAN (&93834768034496)
            attr id "polarion-comment:258"
          BR (&93834768034856)
          text " "
          SPAN (&93834768035160)
            attr id "polarion-comment:231"
          text " "
          B (&93834768035640)
            text "[<=]"
        text " "
      text " "
      DIV (&93834768036184)
        attr id "ML-123622"
        text " "
        P (&93834768036664)
          B (&93834768036848)
            text "ML-123622 - Behandlung von kryptographischem Material für OAuth"
        text " "
        P (&93834768037272)
          text "Betreiber von TI-Messenger-Messenger-Fachdiensten MÜSSEN sicherstellen, dass kryptographisches Material für OAuth, wie z.B. Client-ID und Client-Secret für Authentisierung mittels Credential-Flow sicher eingebracht werden. Dieses Material MUSS in Hardware Security Modules sicher gespeichert werden."
          B (&93834768037576)
            text "[<=]"
        text " "
      text " "
      P (&93834768038120)
        attr class "MsoNormal"
        attr id "polarion_229"
        text "Zum Nachweis der Umsetzung ist lediglich eine Prüfung der Prozesse zur Einbringung erforderlich. Eine Auditierung der Umsetzung ist optional."
      text " "
      DIV (&93834768038896)
        attr id "ML-123628"
        text " "
        P (&93834768039376)
          B (&93834768039560)
            text "ML-123628 - Device Verification, Cross-Signing und SSSS für TI-Messenger-Fachdienste"
        text " "
        P (&93834768039984)
          text "Hersteller MÜSSEN sicherstellen, dass die Funktionen Cross-Signing und Secure Secret Storage and Sharing"
          SPAN (&93834768040288)
            attr style "font-size: 12pt;color: #333333;line-height: 1.5;"
            text " ("
          text "SSSS)"
          SPAN (&93834768040888)
            attr id "polarion-comment:101"
          text "zur Device Verification unterstützt werden. Es MUSS die Spezifikation hinsichtlich Ende-zu-Ende Verschlüsselung vollständig befolgt werden."
          SPAN (&93834768041368)
            attr style "font-size: 11pt;background-color: #FFFF00;line-height: 1.5;"
            BR (&93834768041728)
            text " "
          text " "
          B (&93834768042152)
            text "[<=]"
        text " "
      text " "
      DIV (&93834768042696)
        attr id "ML-123638"
        text " "
        P (&93834768043176)
          B (&93834768043360)
            text "ML-123638 - Explizites Verbot von Profiling für TI-Messenger-Fachdienste"
        text " "
        P (&93834768043784)
          text "Betreiber von TI-Messenger-Komponenten DÜRFEN NICHT Daten zu Profilingzwecken sammeln. Dies betrifft insbesondere eine Überwachung welche Akteure mit welchen anderen Akteuren kommunizieren."
          SPAN (&93834768044088)
            attr id "polarion-comment:229"
          BR (&93834768044448)
          text " "
          BR (&93834768044752)
          text "Die gematik kann nach § 331 Abs. 2 SGB V Daten festlegen, die Anbieter von Komponenten und Dienste der gematik offenzulegen bzw. zu übermitteln haben, sofern diese erforderlich sind, um den gesetzlichen Auftrag der gematik zur Überwachung des Betriebs zur Gewährleistung der Sicherheit, Verfügbarkeit und Nutzbarkeit der Telematikinfrastruktur zu erfüllen. Nur die hierfür erforderlichen personenbezogenen Daten dürfen von den Anbietern und Herstellern als Ausnahme vom Profilingverbot erhoben und ausschließlich für den genannten Zweck verwendet werden."
          SPAN (&93834768045056)
            attr id "polarion-comment:259"
          BR (&93834768045416)
          text " "
          SPAN (&93834768045720)
            attr id "polarion-comment:232"
          text " "
          B (&93834768046200)
            text "[<=]"
        text " "
      text " "
      P (&93834768046744)
        attr id "polarion_62"
        SPAN (&93834768047104)
          attr style "text-decoration: line-through;background-color: #FFFF99;"
        BR (&93834768047464)
        text " "
      text " "
      DIV (&93834768047888)
        attr id "ML-123637"
        text " "
        P (&93834768048368)
          B (&93834768048552)
            text "ML-123637 - Sicherheitsrisiken von Software-Bibliotheken minimieren"
        text " "
        P (&93834768048976)
          text "Hersteller von TI-Messenger-Fachdiensten MÜSSEN"
          SPAN (&93834768049280)
            attr id "polarion-comment:206"
          text "Maßnahmen umsetzen, um die Auswirkung von unentdeckten Schwachstellen in benutzten Software-Bibliotheken zu minimieren."
          BR (&93834768049760)
          text "Hinweis:  Beispielmaßnahmen sind in [OWASP Proactive Control#C2] zu finden. Das gewählte Verfahren MUSS die gleiche Wirksamkeit aufweisen, wie die Kapselung gemäß [OWASP Proactive Control#C2 Punkt 4]."
          BR (&93834768050064)
          text " "
          B (&93834768050368)
            text "[<=]"
        text " "
      text " "
      DIV (&93834768050912)
        attr id "ML-123635"
        text " "
        P (&93834768051392)
          B (&93834768051576)
            text "ML-123635 - CC-Evaluierung als Ersatz für Gutachten"
        text " "
        P (&93834768052000)
          text "Falls der Hersteller entscheidet, eine CC-Zertifizierung statt eines Produktgutachtens durchzuführen, MUSS der Hersteller"
          SPAN (&93834768052304)
            attr id "polarion-comment:222"
          text "bei der Einreichung eines CC-Zertifizierungsantrags sein Security-Target-Dokument der gematik zur Verfügung stellen. In diesem MÜSSEN mindestens beschrieben sein:"
        UL (&93834768052784)
          text " "
          LI (&93834768053088)
            text "die zusätzlichen Funktionen des TI-Messenger-Clients des Nutzers, "
          text " "
          LI (&93834768053512)
            text "die in den zusätzlichen Funktionen verarbeiteten Daten,"
          text " "
          LI (&93834768053936)
            text "die Schnittstellen zwischen dem TI-Messenger-Clients des Nutzers und den ggf. genutzten Backend-Diensten der zusätzlichen Funktionen inklusive ihrer Sicherheitsmaßnahmen und "
          text " "
          LI (&93834768054360)
            text "die Sicherheitsannahmen an den TI-Messenger-Clients des Nutzers und die Ausführungsumgebung"
            BR (&93834768054664)
            text " "
            SPAN (&93834768054968)
              attr id "polarion-comment:40"
          text " "
        text " "
        B (&93834768055568)
          text "[<=]"
        P (&93834768055872)
        text " "
      text " "
      DIV (&93834768056296)
        attr id "ML-123634"
        text " "
        P (&93834768056776)
          B (&93834768056960)
            text "ML-123634 - Sichere Produktentwicklung und Nachweise"
        text " "
        P (&93834768057384)
          text "Der Hersteller MUSS innerhalb des Produktlebenszyklus (Entwicklung, Betrieb, Außerbetriebnahme) seines Produktes Sicherheitsaktivitäten integrieren und anwenden, d. h. in einschlägigen Fachkreisen anerkannte, erprobte und bewährte Regeln anwenden."
          BR (&93834768057688)
          text "Der Hersteller MUSS die Sicherheits- und Datenschutzmaßnahmen für sein Produkt in einem Sicherheits- und Datenschutzkonzept dokumentieren und auf Verlangen der gematik zur Verfügung stellen."
          BR (&93834768057992)
          text "Der Hersteller MUSS einen Testplan für Sicherheitstests erstellen und auf Verlangen der gematik zur Verfügung stellen. Dieser MUSS umgesetzt werden und der gematik bei jeder Veröffentlichung einer Produktversion als neuer Bericht vorgelegt werden."
          BR (&93834768058296)
          text "Der Hersteller des TI-Messenger-Clients für Nutzer MUSS während der Entwicklung des Produktes implementierungsspezifische Sicherheitsanforderungen dokumentieren und umsetzen."
          BR (&93834768058600)
          text "Der Hersteller MUSS ein sicherheitsrelevanten Softwarearchitektur-Review durchführen und identifizierte Architekturschwachstellen beheben. Dieses Review MUSS nach jeder Architekturänderung mit Sicherheitsrelevanz wiederholt werden."
          BR (&93834768058904)
          text "Der Hersteller MUSS eine Bedrohungsanalyse durchführen und Maßnahmen gegen die identifizierten Bedrohungen implementieren."
          BR (&93834768059208)
          text "Der Hersteller MUSS während der Entwicklung des Produktes sicherheitsrelevante Quellcode-Reviews oder automatisierte sicherheitsrelevante Quellcode-Scans durchführen."
          BR (&93834768059512)
          text "Der Hersteller MUSS während der Entwicklung des Produktes automatisierte Sicherheitstests durchführen."
          BR (&93834768059816)
          text "Der Hersteller MUSS einen Schulungsplan zur regelmäßigen Schulung von Entwicklern in sicherer Entwicklung und Secure-Coding-Techniken dokumentieren und umsetzen."
          BR (&93834772278592)
          text "Der Hersteller MUSS alle Entwickler des Produktes in sicherer Entwicklung und Secure-Coding-Techniken schulen. Hierzu MUSS der Hersteller sicherstellen, dass alle Entwickler zu Beginn der Entwicklung geschult sind. Er SOLL für diese anschließend auch laufende Weiterbildung durchführen."
          SPAN (&93834772278896)
            attr style "background-color: #FFFF99;"
            SPAN (&93834772279232)
              attr id "polarion-comment:235"
          BR (&93834772279592)
          text "Der Hersteller MUSS den verwendeten sicheren Produktlebenszyklus und deren Teilprozesse dokumentieren und auf Nachfrage der gematik zur Verfügung stellen. Die Dokumentation soll mindestens die folgenden Sicherheitsaktivitäten beschreiben:"
        UL (&93834772279896)
          text " "
          LI (&93834772280200)
            text "Erfassen und Umsetzen von implementierungsspezifischen Sicherheitsanforderungen für den Client und von Best-Practice-Sicherheitsanforderungen,"
          text " "
          LI (&93834772280624)
            text "Durchführen von sicherheitsrelevanten Architektur- und Design-Reviews,"
          text " "
          LI (&93834772281048)
            text "Durchführen von Bedrohungsanalysen,"
          text " "
          LI (&93834772281472)
            text "Durchführen von sicherheitsrelevanten Quellcode-Reviews,"
          text " "
          LI (&93834772281896)
            text "Durchführen von Sicherheitstests während der Qualitätssicherungsphase,"
          text " "
          LI (&93834772282320)
            text "Etablieren von Quality Gates, die eine Veröffentlichung des Clients mit 'Mittel' oder 'Hoch' bewerteten Sicherheitsfehlern verhindert"
          text " "
          LI (&93834772282744)
            text "Änderungs- und Konfigurationsmanagement,"
          text " "
          LI (&93834772283168)
            text "Schwachstellen-Management"
          text " "
        text "Der Hersteller MUSS während der Entwicklung des Produktes einen Änderungs- und Konfigurationsmanagementprozess verwenden. Das Änderungsmanagement umfasst mindestens den Entscheidungsprozess über vorgeschlagene Änderungen und die Autorisierung der Änderungen. Das Konfigurationsmanagement liefert mindestens zu jedem Zeitpunkt die eindeutige Zusammensetzung des Produktes bezüglich seiner eindeutigen Komponenten (Dritt-Software wie Bibliotheken und Frameworks) und den vorgenommenen Änderungen an eigenen Komponenten."
        BR (&93834772283712)
        text "Der Hersteller MUSS bei Veröffentlichung einer neuen Produktversion des Produktes die Einhaltung der Herstellererklärung sicherheitstechnische Eignung durch seinen Datenschutzbeauftragten verifizieren."
        BR (&93834772284016)
        text " "
        B (&93834772284320)
          text "[<=]"
        P (&93834772284624)
        text " "
      text " "
      P (&93834772285048)
        attr id "polarion_70"
      text " "
      DIV (&93834772285528)
        attr id "ML-123623"
        text " "
        P (&93834772286008)
          B (&93834772286192)
            text "ML-123623 - Nur Verbindungen mit zugelassenen TI-Messenger-Clients"
        text " "
        P (&93834772286616)
          text "Der Messenger-Proxy MUSS prüfen, ob sich der TI-Messenger-Client als von der gematik zugelassenes Produkt ausweisen kann. Verbindungen mit nicht zugelassenen Clients MÜSSEN unterbunden werden."
          SPAN (&93834772286920)
            attr style "background-color: #FFFF00;"
            BR (&93834772287280)
            text " "
          text " "
          B (&93834772287704)
            text "[<=]"
        text " "
      text " "
      DIV (&93834772288248)
        attr id "ML-124882"
        text " "
        P (&93834772288728)
          B (&93834772288912)
            text "ML-124882 - Kein Einbringen vertraulicher Informationen in Room-States durch Organisationsadministratoren"
        text " "
        P (&93834772289336)
          text "Anbieter von Home-Servern MÜSSEN sicherstellen, dass sie als Organisations-Administratoren keine sensiblen Informationen in Room-States einbringen. Ebenso MÜSSEN sie Organisations-Administratoren von Homeservern unter Kundenverwaltung informieren, dass im Room-State sichtbare Informationen gegenwärtig nicht verschlüsselt sind. Sobald durch die geplante Matrix-Spec-Changes (MSCs) die Möglichkeit geschaffen wurde vertrauliche Informationen sicher im Room-State zu speichern, wird dies direkt durch die Matrix-Spezifikation abgedeckt."
          SPAN (&93834772289640)
            attr id "polarion-comment:251"
          BR (&93834772290000)
          text " "
          BR (&93834772290304)
          text " "
          SPAN (&93834772290608)
            attr id "polarion-comment:241"
          text " "
          B (&93834772291088)
            text "[<=]"
        text " "
      text " "
      H3 (&93834772291632)
        attr id "4.2"
        text "4.2 Authentifizierung von Nutzern"
      text " "
      P (&93834772292232)
        attr id "polarion_160"
        text "Im TI-Messenger-Kontext werden gemäß [gemSpec_TI_Messenger-Dienst#Akteure und Rollen] zwischen folgenden"
        SPAN (&93834772292712)
          attr style "text-decoration: line-through;"
        text "Rollen  unterschieden:"
      text " "
      P (&93834772293312)
        attr id "polarion_75"
      text " "
      P (&93834772293792)
        attr class "polarion-rte-caption-paragraph"
        attr data-keep-next "true"
        attr id "polarion_221"
        attr style "text-align: left;"
        text "Tabelle"
        SPAN (&93834772294800)
          attr class "polarion-rte-caption"
          attr data-sequence "Tabelle"
          text "1"
        text ": Authentifizierung von Nutzerrollen"
      text " "
      TABLE (&93834772295696)
        attr class "polarion-Document-table"
        attr id "polarion_wiki macro name=table;params=width=100%|uid=3"
        attr style "width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;border-collapse: collapse;"
        text " "
        TBODY (&93834772296528)
          text " "
          TR (&93834772296832)
            text " "
            TH (&93834772297136)
              attr style "font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 95.0312px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Rolle"
            text " "
            TH (&93834772297736)
              attr style "font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 289.094px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Matrix-Homeserver"
            text " "
            TH (&93834772298336)
              attr style "font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 297.109px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;"
              text "VZD-FHIR-Directory"
            text " "
          text " "
          TR (&93834772299056)
            text " "
            TD (&93834772299360)
              attr style "text-align: left;vertical-align: top;width: 95.0312px;height: 38px;border: 1px solid #CCCCCC;padding: 5px;"
              text "User-HBA"
            text " "
            TD (&93834772299960)
              attr rowspan "3"
              attr style "text-align: left;vertical-align: top;width: 289.094px;height: 117px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Authentifizieren mittels des vereinbarten Authentifizierungsverfahren"
              BR (&93834772300616)
            text " "
            TD (&93834772300920)
              attr style "text-align: left;vertical-align: top;width: 297.109px;height: 38px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Schreibzugriff: HBA (C.HP.AUT)"
              BR (&93834772301400)
              text "Lesezugriff: Matrix-OpenID-Token"
            text " "
          text " "
          TR (&93834772301944)
            text " "
            TD (&93834772302248)
              attr style "text-align: left;vertical-align: top;width: 95.0312px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;"
              text "User"
            text " "
            TD (&93834772302848)
              attr style "text-align: left;vertical-align: top;width: 297.109px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Lesezugriff: Matrix-OpenID-Token"
            text " "
          text " "
          TR (&93834772303568)
            text " "
            TD (&93834772303872)
              attr style "text-align: left;vertical-align: top;width: 95.0312px;height: 38px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Org-Admin"
            text " "
            TD (&93834772304472)
              attr style "text-align: left;vertical-align: top;width: 297.109px;height: 38px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Schreibzugriff: SMC-B (C.HCI.AUT)"
              BR (&93834772304952)
              text "Lesezugriff: Matrix-OpenID-Token"
            text " "
          text " "
        text " "
      text " "
      P (&93834772305736)
        attr id "polarion_223"
      text " "
      P (&93834772306216)
        attr id "polarion_85"
      text " "
      H4 (&93834772306696)
        attr id "4.2.1"
        text "4.2.1 Smartcard-IDP-Dienst"
      text " "
      P (&93834772307296)
        attr id "polarion_168"
        SPAN (&93834772307656)
          attr style "background-color: #FFFFCC;"
        text "Der TI-Messenger-Dienst MUSS die Verifikation von Nutzern mittels SMC-B und HBA unterstützen. Ein TI-Messenger-Client oder Frontend eines Registrieungs-Dienstes MUSS am Smartcard IDP-Dienst der gematik gemäß [gemSpec_IDP_FD] registriert sein."
      text " "
      P (&93834772308256)
        attr id "polarion_77"
        text "Im Rahmen der Registrierung werden notwendige Claims (bestätigte Identifikationsmerkmale durch den Nutzer), auf den damit zu nutzenden Dienst festgelegt. Sowohl der TI-Messenger-Client, der Matrix-Homeserver der Messenger-Services als auch der VZD-FHIR-Directory MÜSSEN den ausgestellten Security Tokens (ID_TOKEN, ACCESS_TOKEN) des Smartcard IDP-Dienst vertrauen. Der Anbieter des TI-Messenger-Fachdienstes MUSS über einen organisatorischen Prozess beim Smartcard IDP-Dienst folgende Claims im ACCESS_TOKEN vereinbaren:"
      text " "
      P (&93834772308856)
        attr id "polarion_34"
      text " "
      P (&93834772309336)
        attr class "polarion-rte-caption-paragraph"
        attr data-keep-next "true"
        attr id "polarion_36"
        attr style "text-align: left;"
        text "Tabelle"
        SPAN (&93834772310344)
          attr class "polarion-rte-caption"
          attr data-sequence "Tabelle"
          text "2"
        text ": Inhalte der Claims für SMC-B/HBA"
      text " "
      TABLE (&93834764420808)
        attr class "polarion-Document-table"
        attr id "polarion_wiki macro name=table;params=width=100%|uid=7"
        attr style "width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;border-collapse: collapse;"
        text " "
        TBODY (&93834764421640)
          text " "
          TR (&93834764421944)
            text " "
            TH (&93834764422248)
              attr style "font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 266.75px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Leistungserbringerinstitutionen (SMC-B)"
            text " "
            TH (&93834764422848)
              attr style "font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 313.438px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Inhalte der Claims für Leistungserbringer (HBA)"
            text " "
          text " "
          TR (&93834764423568)
            text " "
            TD (&93834764423872)
              attr style "text-align: left;vertical-align: top;width: 266.75px;height: 146px;border: 1px solid #CCCCCC;padding: 5px;"
              text " "
              UL (&93834764424352)
                text " "
                LI (&93834764424656)
                  text "ProfessionOID"
                text " "
                LI (&93834764425080)
                  text "idNummer"
                text " "
                LI (&93834764425504)
                  text "organizationName"
                text " "
                LI (&93834764425928)
                  text "acr"
                text " "
                LI (&93834764426352)
                  text "aud"
                text " "
            text " "
            TD (&93834764426896)
              attr style "text-align: left;vertical-align: top;width: 313.438px;height: 146px;border: 1px solid #CCCCCC;padding: 5px;"
              text " "
              UL (&93834764427376)
                text " "
                LI (&93834764427680)
                  text "ProfessionOID"
                text " "
                LI (&93834764428104)
                  text "idNummer"
                text " "
                LI (&93834764428528)
                  text "given_name"
                text " "
                LI (&93834764428952)
                  text "family_name"
                text " "
                LI (&93834764429376)
                  text "acr"
                text " "
                LI (&93834764429800)
                  text "aud"
                text " "
            text " "
          text " "
        text " "
      text " "
      P (&93834764430704)
        attr id "polarion_43"
      text " "
      P (&93834764431184)
        attr id "polarion_202"
        text "Die ProfessionOID gibt an um welche Art von Leistungserbringer (z. B. Arzt, Zahnarzt etc.) es sich handelt. Die idNummer beinhaltet die Telematik-ID für Organisationen des Gesundheitswesens und Leistungserbringer."
        SPAN (&93834764431664)
          attr style "background-color: #FFFFCC;"
      text " "
      P (&93834764432144)
        attr id "polarion_208"
        text "Der Anbieter des TI-Messenger-Fachdienstes MUSS über einen organisatorischen Prozess beim Smartcard IDP-Dienst für die Autorisierungsanfrage folgende"
        SPAN (&93834764432624)
          attr style "font-family: 'Courier New', Courier, monospace, HanWangKanTan;"
          text "scope"
        text "-Parameter vereinbaren:"
        SPAN (&93834764433224)
          attr style "font-family: 'Courier New', Courier, monospace, HanWangKanTan;"
          text "scope=openid,VZD-FHIR-Directory"
      text " "
      P (&93834764433824)
        attr id "polarion_79"
      text " "
      H4 (&93834764434304)
        attr id "4.2.2"
        text "4.2.2 Verwaltung der Nutzersession"
      text " "
      P (&93834764434904)
        attr id "polarion_169"
        text "Die Verwaltung der Nutzersession MUSS wie in der in der Matrix-Spezifikation beschrieben erfolgen."
        BR (&93834764435384)
      text " "
      H3 (&93834764435688)
        attr id "4.3"
        text "4.3 DNS-Namensauflösung"
      text " "
      P (&93834764436288)
        attr id "polarion_32"
        text "Für die Namensauflösung der vom TI-Messenger-Fachdienst angebotenen Außenschnittstellen, werden DNS-Server im Internet verwendet. Der vereinbarte Abfrage-Record MUSS durch den jeweiligen TI-Messenger-Anbieter bereitgestellt werden und MUSS in öffentlichen DNS-Servern eingetragen sein."
      text " "
      P (&93834764436888)
        attr id "polarion_42"
        text "Wird bei der Nutzung eines Messenger-Service für eine Organisation eine auf die Domain der Organisation bezogene Benamung gewählt, erfolgt die Eintragung der notwendigen DNS-Records auf DNS-Server im Internet durch die Administration der Organisation."
      text " "
      P (&93834764437488)
        attr id "polarion_115"
      text " "
      P (&93834764437968)
        attr id "polarion_86"
      text " "
      P (&93834764438448)
        attr id "polarion_71"
        SPAN (&93834764438808)
          attr style "font-weight: bold;"
          text "Identifizierung von Messenger-Services"
      text " "
      P (&93834764439408)
        attr id "polarion_72"
        SPAN (&93834764439768)
          attr style "font-weight: normal;"
          text "Jeder Messenger-Service wird durch einen Matrix-Homeservernamen identifiziert, der aus einem Hostname und einem optionalen Port besteht. Weitere Informationen finden sich in [Federation API#3]."
      text " "
      P (&93834764440368)
        attr id "polarion_76"
      text " "
      H3 (&93834764440848)
        attr id "4.4"
        text "4.4 Test"
      text " "
      P (&93834764441448)
        attr class "MsoNormal"
        attr id "polarion_87"
        text "Produkttests zur Sicherstellung der Konformität mit der Spezifikation sind vollständig in der Verantwortung der Anbieter/Hersteller des TI-Messenger-Fachdienstes. Die gematik konzentriert sich bei der Zulassung auf das Zusammenspiel der Produkte durch E2E- und IOP-Tests."
      text " "
      P (&93834764442224)
        attr class "MsoNormal"
        attr id "polarion_88"
        text "Die eigenverantwortlichen Produkttests bei den Industriepartnern umfassen:"
      text " "
      UL (&93834764443000)
        attr id "polarion_112"
        text " "
        LI (&93834764443480)
          text "Testumgebung entwickeln,"
        text " "
        LI (&93834764443904)
          text "Testfallkatalog erstellen (für eigene Produkttests) und"
          BR (&93834764444208)
        text " "
        LI (&93834764444512)
          text "Produkttest durchführen und dokumentieren"
        text " "
      text " "
      P (&93834764445056)
        attr class "MsoNormal"
        attr id "polarion_113"
        text "Die Hersteller der TI-Messenger-Fachdienste MÜSSEN zusichern, dass die gematik die Produkttests der Industriepartner in Form von Reviews der Testkonzepte, Testspezifikationen, Testfälle sowie mit dem Review der Testprotokolle (Log- und Trace-Daten) überprüfen kann."
      text " "
      P (&93834764445832)
        attr class "MsoNormal"
        attr id "polarion_116"
        text "Die gematik fördert eine enge Zusammenarbeit und unterstützt Industriepartner dabei, die Qualität der Produkte zu verbessern. Dies erfolgt durch die Organisation früher IOP-Tests, die Synchronisierung von Meilensteinen und regelmäßige industriepartnerübergreifenden Test-Sessions. Die Test-Sessions umfassen gegenseitige IOP- und E2E Tests."
      text " "
      P (&93834764446608)
        attr id "polarion_122"
        text "Die gematik stellt eine TI-Messenger-Fachdienst Referenzimplementierung zur Verfügung. Zur Sicherstellung der Interoperabilität zwischen verschiedenen TI-Messenger-Fachdiensten innerhalb des TI-Messenger-Dienstes MUSS der TI-Messenger-Fachdienst eines TI-Messenger-Anbieters gegen die Referenzimplementierung (TI-Messenger-Client und TI-Messenger Fachdienst) getestet werden."
        BR (&93834764447088)
      text " "
      P (&93834764447392)
        attr id "polarion_127"
        SPAN (&93834764447752)
          attr style "background-color: #FFFF99;"
      text " "
      DIV (&93834764448232)
        attr id "ML-124200"
        text " "
        P (&93834764448712)
          B (&93834764448896)
            text "ML-124200 - Test des TI-Messenger-Fachdienstes gegen die Referenzimplementierung"
        text " "
        P (&93834764449320)
          text "Der Anbieter des TI-Messenger-Fachdienstes MUSS den Fachdienst gegen die Referenzimplementierung erfolgreich testen. Die Testergebnisse sind der gematik vorzulegen."
          BR (&93834764449624)
          text " "
          B (&93834764449928)
            text "[<=]"
        text " "
      text " "
      P (&93834764450472)
        attr id "polarion_98"
        text "Die gematik testet in den Zulassungsverfahren auf Basis von Anwendungsfällen. Dabei werden die Anwendungsfälle durchgespielt und es wird versucht viele Funktionsbereiche und Teile der Anwendung mit einzubeziehen. Anschließend wird mit den IOP Tests die Interoperabilität zwischen den verschiedenen Anbieter nachgewiesen. Für das Zulassungsverfahren des TI-Messenger-Dienstes MÜSSEN die TI-Messenger-Clients und TI-Messenger-Fachdienste bereitgestellt werden. Um einen automatisierten Test für den TI-Messenger-Dienst zu ermöglichen, MUSS die Test-App des TI-Messenger-Clients zusätzlich ein Testtreiber-Modul beinhalten, welcher die Funktionalitäten der produktspezifischen Schnittstelle des TI-Messenger-Clients über eine standardisierte Schnittstelle von außen zugänglich macht und einen Fernzugriff ermöglicht."
        BR (&93834764450952)
        text " "
      text " "
      P (&93834764451376)
        attr id "polarion_129"
      text " "
      H3 (&93834764451856)
        attr id "4.5"
        text "4.5 Betrieb"
      text " "
      P (&93834764452456)
        attr id "polarion_184"
        text "Der Betrieb des Fachdienstes wird durch den TI-Messenger-Anbieter verantwortet. Entsprechend dem Betriebskonzept [gemKPT_Betr#Anbieterkonstellationen], KANN der Betrieb jedoch aus- bzw. verlagert werden. Zum Beispiel für ein on-premise Hosting. Die Koordination der jeweiligen Komponenten sowie die Erfüllung der Anforderungen verbleiben jedoch am Anbieter. Dieser KANN in Abstimmung mit seinen Nutzern und Dienstleistern Verträge abschließen um den sicheren Betrieb aufrecht zu erhalten."
      text " "
      P (&93834764453056)
        attr id "polarion_123"
      text " "
      H4 (&93834764453592)
        attr id "4.5.1"
        text "4.5.1 Performance"
      text " "
      P (&93834764454168)
        attr id "polarion_126"
        text "Der TI-Messenger Fachdienst MUSS mit einer vollumfänglich-funktionalen Verfügbarkeit von 98% betreibbar sein."
      text " "
      P (&93834764454768)
        attr id "polarion_130"
        text "Der Anbieter TI-Messenger MUSS sein Produkt TI-Messenger-Fachdienst mit einer vollumfänglich-funktionalen Verfügbarkeit von 98% betreiben. "
      text " "
      P (&93834764455368)
        attr id "polarion_134"
        text "Wenn der Betrieb von Homeservern on-premise bei den Nutzern realisiert wird, KANN der Anbieter TI-Messenger für diese Produktinstanzen von den Performancevorgaben in Abstimmung mit seinen Nutzern abweichen. Die Abweichungen und die betroffenen Instanzen MÜSSEN der gematik im Rahmen der betrieblichen Prozesse bekannt gemacht werden."
      text " "
      P (&93834764455968)
        attr id "polarion_144"
      text " "
      H4 (&93834764456448)
        attr id "4.5.2"
        text "4.5.2 Monitoring"
      text " "
      P (&93834764457048)
        attr id "polarion_139"
        text "Die folgenden technischen Kommunikationsbeziehungen bzw. Use Cases MÜSSEN im Rahmen des Monitorings und der Rohdatenerfassung am TI-Messenger-Fachdienst erfasst und automatisiert und anonymisiert an die gematik zur Performancebewertung der Vorgaben zum Rohdatenreporting [gemSpec_Perf#Performance-Evaluierung auf der Basis von Rohdaten] reportet werden."
      text " "
      P (&93834764457648)
        attr id "polarion_142"
      text " "
      P (&93834764458128)
        attr class "polarion-rte-caption-paragraph"
        attr data-keep-next "true"
        attr id "polarion_132"
        attr style "text-align: left;"
        text "Tabelle"
        SPAN (&93834764459136)
          attr class "polarion-rte-caption"
          attr data-sequence "Tabelle"
          text "3"
        text ": Technische Kommunikationsbeziehungen – Use-Case-Mapping "
      text " "
      TABLE (&93834764460032)
        attr class "polarion-Document-table"
        attr id "polarion_wiki macro name=table;params=width=100%|uid=8"
        attr style "width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;border-collapse: collapse;"
        text " "
        TBODY (&93834764460864)
          text " "
          TR (&93834764461168)
            text " "
            TH (&93834764461472)
              attr style "font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 86px;height: 95px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Use-Case-Referenz"
            text " "
            TH (&93834764462072)
              attr style "font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 170px;height: 95px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Use-Case-Titel"
            text " "
            TH (&93834764462672)
              attr style "font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 325px;height: 95px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Matrix-Operation bzw. Use-Case-Mapping  auf TI-Messenger Fachdienst-Komponente(n)"
              BR (&93834764463152)
            text " "
            TH (&93834764463456)
              attr style "font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 325px;height: 95px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Start und Ende der Messung am TI-Messenger-Fachdienst"
              BR (&93834764463936)
            text " "
          text " "
          TR (&93834764464360)
            text " "
            TD (&93834764464664)
              attr style "text-align: left;vertical-align: top;width: 86px;height: 24px;border: 1px solid #CCCCCC;padding: 5px;"
              text "AF_10057"
            text " "
            TD (&93834764465264)
              attr style "text-align: left;vertical-align: top;width: 170px;height: 24px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Anmeldung eines Nutzers am Messenger-Service "
            text " "
            TD (&93834764465864)
              attr style "text-align: left;vertical-align: top;width: 325px;height: 24px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Messenger-Service"
            text " "
            TD (&93834764466464)
              attr style "text-align: left;vertical-align: top;width: 325px;height: 24px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Start:"
              BR (&93834764466944)
              text "Messenger Service erhält Login Request durch Client"
              BR (&93834764467248)
              BR (&93834764467432)
              text "Ende:"
              BR (&93834764467736)
              text "Übermittlung Matrix-OpenID-Token"
            text " "
          text " "
          TR (&93834764468280)
            text " "
            TD (&93834764468584)
              attr style "text-align: left;vertical-align: top;width: 86px;height: 24px;border: 1px solid #CCCCCC;padding: 5px;"
              text "AF_10060"
            text " "
            TD (&93834764469184)
              attr style "text-align: left;vertical-align: top;width: 170px;height: 24px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Messenger-Service bereitstellen"
            text " "
            TD (&93834764469784)
              attr style "text-align: left;vertical-align: top;width: 325px;height: 24px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Registrierungs-Dienst, Messenger-Service"
            text " "
            TD (&93834764470384)
              attr style "text-align: left;vertical-align: top;width: 325px;height: 24px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Start:"
              BR (&93834764470864)
              text "AuthZ, Erstelle Messaging-Service"
              BR (&93834764471168)
              BR (&93834764471352)
              text "Ende:"
              BR (&93834764471656)
              text "Account Daten wurden übermittelt"
            text " "
          text " "
          TR (&93834764472200)
            text " "
            TD (&93834764472504)
              attr style "text-align: left;vertical-align: top;width: 86px;height: 40px;border: 1px solid #CCCCCC;padding: 5px;"
              text "AF_10061"
            text " "
            TD (&93834764473104)
              attr style "text-align: left;vertical-align: top;width: 170px;height: 40px;border: 1px solid #CCCCCC;padding: 5px;"
              text "TI-Messenger Remote Invite "
            text " "
            TD (&93834764473704)
              attr style "text-align: left;vertical-align: top;width: 325px;height: 40px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Homeserver A, Messenger-Proxy A,"
              BR (&93834764474184)
              text "Homeserver B, Messenger-Proxy B"
              BR (&93834764474488)
            text " "
            TD (&93834764474792)
              attr style "text-align: left;vertical-align: top;width: 325px;height: 40px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Start Provider A:"
              BR (&93834764475272)
              text "Eingang Request von Client A: Invite User B + PASSporT"
              BR (&93834764475576)
              BR (&93834764475760)
              text "Ende:"
              BR (&93834764476064)
              text "Ausgang Request an Provider B: Invite User B + PASSporT"
              BR (&93834764476368)
              BR (&93834764476552)
              text "Start Provider B:"
              BR (&93834764476856)
              text "Eingang Request von Provider A: Invite User B + PASSporT"
              BR (&93834764477160)
              BR (&93834764477344)
              text "Ende:"
              BR (&93834764477648)
              text "Versand Invite Request an Client B"
            text " "
          text " "
          TR (&93834764478192)
            text " "
            TD (&93834764478496)
              attr style "text-align: left;vertical-align: top;width: 86px;height: 40px;border: 1px solid #CCCCCC;padding: 5px;"
              text "AF_10062"
            text " "
            TD (&93834764479096)
              attr style "text-align: left;vertical-align: top;width: 170px;height: 40px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Message senden (Remote)"
            text " "
            TD (&93834764479696)
              attr style "text-align: left;vertical-align: top;width: 325px;height: 40px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Homeserver A, Messenger-Proxy A,"
              BR (&93834764480176)
              text "Homeserver B, Messenger-Proxy B"
            text " "
            TD (&93834764480600)
              attr style "text-align: left;vertical-align: top;width: 325px;height: 40px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Start Provider A:"
              BR (&93834764481080)
              text "Eingang Request von Client A"
              BR (&93834764481384)
              BR (&93834764481568)
              text "Ende:"
              BR (&93834764481872)
              text "Ausgang Request an Provider B"
              BR (&93834764482176)
              BR (&93834764482360)
              text "Start Provider B:"
              BR (&93834764482664)
              text "Eingang Request von Provider A"
              BR (&93834764482968)
              BR (&93834764483152)
              text "Ende:"
              BR (&93834764483456)
              text "Ausgang Request an Client B"
            text " "
          text " "
          TR (&93834764484000)
            text " "
            TD (&93834764484304)
              attr style "text-align: left;vertical-align: top;width: 86px;height: 61px;border: 1px solid #CCCCCC;padding: 5px;"
              text "AF_10063"
            text " "
            TD (&93834764484904)
              attr style "text-align: left;vertical-align: top;width: 170px;height: 61px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Client-Fachdienst-Nachrichtenversand"
            text " "
            TD (&93834764485504)
              attr style "text-align: left;vertical-align: top;width: 325px;height: 61px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Matrix CS API spec 8.6 ""
              SPAN (&93834764485984)
                attr style "font-family: 'Courier New', Courier, monospace, HanWangKanTan;"
                text "PUT"
              text " "
              SPAN (&93834781742440)
                attr style "font-family: 'Courier New', Courier, monospace, HanWangKanTan;"
                text "/_matrix/client/r0/rooms/{roomId}/state/"
              BR (&93834781742896)
              text " "
              SPAN (&93834781743200)
                attr style "font-family: 'Courier New', Courier, monospace, HanWangKanTan;"
                text "{eventType}/{stateKey}"
              text """
              BR (&93834781743800)
            text " "
            TD (&93834781744104)
              attr style "text-align: left;vertical-align: top;width: 325px;height: 61px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Start:"
              BR (&93834781744584)
              text "Eingang Request am Homeserver vom Client."
              BR (&93834781744888)
              BR (&93834781745072)
              text "Ende:"
              BR (&93834781745376)
              text "Response an Client, dass die Nachricht erfolgreich erhalten wurde."
              BR (&93834781745680)
            text " "
          text " "
          TR (&93834781746104)
            text " "
            TD (&93834781746408)
              attr style "text-align: left;vertical-align: top;width: 86px;height: 62px;border: 1px solid #CCCCCC;padding: 5px;"
              text "AF_10063"
            text " "
            TD (&93834781747008)
              attr style "text-align: left;vertical-align: top;width: 170px;height: 62px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Client-Fachdienst-Nachrichtenempfang"
            text " "
            TD (&93834781747608)
              attr style "text-align: left;vertical-align: top;width: 325px;height: 62px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Matrix CS API spec 8.5 ""
              SPAN (&93834781748088)
                attr style "font-family: 'Courier New', Courier, monospace, HanWangKanTan;"
                text "PUT"
              text " "
              SPAN (&93834781748688)
                attr style "font-family: 'Courier New', Courier, monospace, HanWangKanTan;"
                text "/_matrix/client/r0/rooms/{roomId}/state/"
                BR (&93834781749168)
                text "{eventType}/{stateKey}"
              text "" "
            text " "
            TD (&93834781749712)
              attr style "text-align: left;vertical-align: top;width: 325px;height: 62px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Start:"
              BR (&93834781750192)
              text "Beginn des Nachrichtenabrufs durch Client"
              BR (&93834781750496)
              BR (&93834781750680)
              text "Ende:"
              BR (&93834781750984)
              text "(erfolgreiche) Übermittlung der Nachricht an Client"
              BR (&93834781751288)
            text " "
          text " "
          TR (&93834781751712)
            text " "
            TD (&93834781752016)
              attr style "text-align: left;vertical-align: top;width: 86px;height: 65px;border: 1px solid #CCCCCC;padding: 5px;"
              text "AF_10062"
            text " "
            TD (&93834781752616)
              attr style "text-align: left;vertical-align: top;width: 170px;height: 65px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Fachdienst-Fachdienst-versendete PDUs"
            text " "
            TD (&93834781753216)
              attr style "text-align: left;vertical-align: top;width: 325px;height: 65px;border: 1px solid #CCCCCC;padding: 5px;"
              text "siehe Matrix Server-Server-API 4,"
              BR (&93834781753696)
              text "vgl. synapse Metrik: `"
              SPAN (&93834781754000)
                attr style "font-family: 'Courier New', Courier, monospace, HanWangKanTan;"
                text "synapse_federation_client"
                BR (&93834781754480)
                text "_sent_pdu_destinations:total"
              text "`"
              BR (&93834781754904)
            text " "
            TD (&93834781755208)
              attr style "text-align: left;vertical-align: top;width: 325px;height: 65px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Start:"
              BR (&93834781755688)
              text "Request an Empfangsserver"
              BR (&93834781755992)
              BR (&93834781756176)
              text "Ende:"
              BR (&93834781756480)
              text "(erfolgreiche) Übermittlung der Nachricht an Empfangsserver"
            text " "
          text " "
          TR (&93834781757024)
            text " "
            TD (&93834781757328)
              attr style "text-align: left;vertical-align: top;width: 86px;height: 64px;border: 1px solid #CCCCCC;padding: 5px;"
              text "AF_10062"
            text " "
            TD (&93834781757928)
              attr style "text-align: left;vertical-align: top;width: 170px;height: 64px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Fachdienst-Fachdienst-empfangene PDUs"
            text " "
            TD (&93834781758528)
              attr style "text-align: left;vertical-align: top;width: 325px;height: 64px;border: 1px solid #CCCCCC;padding: 5px;"
              text "siehe Matrix Server-Server-API 5.1,"
              BR (&93834781759008)
              text "vgl. synapse Metrik: `"
              SPAN (&93834781759312)
                attr style "font-family: 'Courier New', Courier, monospace, HanWangKanTan;"
                text "synapse_federation_server"
                BR (&93834781759792)
                text "_received_pdus"
              text "`"
            text " "
            TD (&93834781760336)
              attr style "text-align: left;vertical-align: top;width: 325px;height: 64px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Start:"
              BR (&93834781760816)
              text "Eingang des Requests am Empfangsserver"
              BR (&93834781761120)
              BR (&93834781761304)
              text "Ende:"
              BR (&93834781761608)
              text "(erfolgreiche) Übermittlung der Nachricht am Empfangsserver"
            text " "
          text " "
        text " "
      text " "
      P (&93834781762392)
        attr id "polarion_148"
      text " "
      P (&93834781762872)
        attr id "polarion_219"
        SPAN (&93834781763232)
          attr style "font-weight: bold;"
          text "Bestandsdaten"
        BR (&93834781763712)
        text "Der TI-Messenger Fachdienst MUSS die nachfolgenden Informationen jeweils monatlich zum 01. des Monats in folgendem JSON Format als HTTP Body an die Betriebsdatenerfassung (BDE) gemäß gemSpec_SST_LD_BD liefern:"
        BR (&93834781764016)
        text "{"
        BR (&93834781764320)
        text "    „Abfragezeitpunkt“: <Zeitstempel der Abfrage als String im ISO 8601 Format>,"
        BR (&93834781764624)
        text "    „CI_ID“: <CI ID des abgefragten Fachdienstes gemäß TI-ITSM als String>,"
        BR (&93834781764928)
        text "    „TIM-FD_Anzahl_Homeserver“: <Anzahl der zum Abfragezeitpunkt instanziierten Homeserver>,"
        BR (&93834781765232)
        text "    „TIM-FD_Anzahl_Organisationen“: <Anzahl der zum Abfragezeitpunkt registrierten Organisationen>"
        BR (&93834781765536)
        text "    „TIM-FD_Anzahl_Nutzer“: <Anzahl der zum Abfragezeitpunkt registrierten Nutzer>,"
        BR (&93834781765840)
        text "    „TIM-FD_Anzahl_aktNutzer“: <Anzahl der zum Abfragezeitpunkt innerhalb des letzten Monats aktiven Nutzer>"
        BR (&93834781766144)
        text "}"
        BR (&93834781766448)
        BR (&93834781766632)
        text "Da bei dieser Lieferung keine Datei übermittelt wird, sondern der Text direkt im Body, ist für diese Lieferung die Angabe des filenames im HTTP Header gemäß [A_17112] (Tab_I_LogData_002 Operation I_LogData::fileUpload) in der gemSpec_SST_LD_BD NICHT notwendig."
        BR (&93834781766936)
      text " "
      P (&93834781767240)
        attr id "polarion_154"
      text " "
      P (&93834781767720)
        attr id "polarion_161"
        SPAN (&93834781768080)
          attr style "font-weight: bold;"
          text "Service Monitoring"
        BR (&93834781768560)
        BR (&93834781768744)
        text "Der TI-Messenger Anbieter MUSS das Service Monitoring der gematik technisch-organisatorisch unterstützen."
        BR (&93834781769048)
        BR (&93834781769232)
        text "Dafür kann es z.B. notwendig sein, dass entsprechende Accounts auf Homeservern eingerichtet werden. Das Service Monitoring SOLL dabei zu keinen technischen Veränderungen an den Produkten führen."
      text " "
      P (&93834781769656)
        attr id "polarion_163"
      text " "
      H2 (&93834781770136)
        attr id "5"
        text "5 Funktionsmerkmale"
      text " "
      P (&93834781770736)
        attr id "polarion_108"
        text "Im folgenden Kapitel wird der TI-Messenger-Fachdienst bezogen auf seine Teilkomponenten funktional beschrieben. Der TI-Messenger-Fachdienst ist die Kernkomponente des TI-Messenger-Dienstes. Dieser stellt alle Schnittstellen bereit, die für die Kommunikation innerhalb des TI-Messenger-Dienstes benötigt werden."
      text " "
      P (&93834781771336)
        attr id "polarion_30"
        text "In der folgenden Abbildung ist der TI-Messenger-Fachdienst mit seinen Funktionsmerkmalen als Whitebox dargestellt:"
        BR (&93834781771816)
      text " "
      P (&93834781772120)
        attr id "polarion_124"
        attr style "text-align: center;"
        IMG (&93834781772656)
          attr src "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA5MAAAOICAYAAABL/qXRAAAgAElEQVR4nOy9fWwcZ72wPWqhWTiUWFFoDYHgfuL2ocVGzSaYtJh+yVJbtK0qYto/siuEMSLV66dCaj6O8AFB7R6pr62qT13lpLKeto/8nNbEVShOEzVsCy0+oDdZIgouGGEhRWdV9SjLSUHmVDr6vX/s7uzM7HzcszO787HXJV2C2Lv3zu5O7b18z9..."
          attr style "width: 499px;height: 493px;"
      text " "
      P (&93834781773312)
        attr class "polarion-rte-caption-paragraph"
        attr id "polarion_56"
        attr style "text-align: center;"
        text "Abbildung"
        SPAN (&93834781774144)
          attr class "polarion-rte-caption"
          attr data-sequence "Abbildung"
          text "3"
        text ": Funktionaler Aufbau des TI-Messenger-Fachdienstes"
      text " "
      P (&93834770977952)
        attr id "polarion_64"
      text " "
      P (&93834770978408)
        attr id "polarion_57"
        text "Die in der Abbildung grün dargestellten Boxen zeigen die Schnittstellen, die am TI-Messenger-Fachdienst aufgerufen werden. Rot dargestellte Boxen zeigen die Schnittstellen, über die der Fachdienst weitere Services anderer Komponenten nutzt. Eine Ausnahme bildet die Kommunikation zwischen den TI-Messenger-Fachdiensten. Hier wird die Kommunikation bilateral zwischen den zur Föderation gehörenden Fachdiensten realisiert."
      text " "
      P (&93834770979008)
        attr id "polarion_93"
      text " "
      P (&93834770979488)
        attr id "polarion_91"
      text " "
      H3 (&93834770979968)
        attr id "5.1"
        text "5.1 Umsetzung der Matrix-API"
      text " "
      P (&93834770980568)
        attr id "polarion_82"
        text "Im folgenden Abschnitt wird für die zum TI-Messenger-Fachdienst gehörenden Komponenten, die Nutzung der von der Matrix-Foundation beschriebenen APIs dargestellt. Die jeweilige API MUSS vollständig und als RESTful API gemäß"
      text " "
      UL (&93834770981168)
        attr id "polarion_28"
        text " "
        LI (&93834770981648)
          text "[Matrix Foundation#Server_Server],"
        text " "
        LI (&93834770982072)
          text "[Matrix Foundation#Client_Server],"
        text " "
        LI (&93834770982496)
          text "[Matrix Foundation#Push_Gateway]"
        text " "
      text " "
      P (&93834770983040)
        attr id "polarion_50"
        text "umgesetzt werden."
      text " "
      P (&93834770983640)
        attr id "polarion_95"
        text "Die Abbildung ""
        SPAN (&93834770984120)
          attr style "font-style: italic;"
          text "Matrix-API des Messenger Service"
        text "" zeigt die jeweils zu berücksichtigenden Schnittstellen bei den bereitzustellenden Komponenten (Server-Server API , Client-Server API, Push Gateway API) an."
      text " "
      P (&93834770984840)
        attr id "polarion_92"
      text " "
      P (&93834770985320)
        attr class "polarion-rte-caption-paragraph"
        attr id "polarion_151"
        attr style "text-align: center;"
        IMG (&93834770986032)
          attr src "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAkkAAAGNCAYAAAAFEeULAAAgAElEQVR4Ae29T8gdx533e5baRXAXFpfBfu7iDdpMEC/Yrzm8Nl5k4YUXXmRAYJjIk8tBZDbCYMZe3Mh4I5Fc0OESrsmFxBBerMWYiMs7egTDmBjjRLYxfnKNE5k8YeRBDs/IIQjL4wijMXX5Vvevz6+r+v+f01V9vg1S9+mu+tWvvlXd9XmqqqsXxh..."
          attr style "width: 456px;height: 310px;"
      text " "
      P (&93834770986688)
        attr class "polarion-rte-caption-paragraph"
        attr id "polarion_180"
        attr style "text-align: center;"
        text "Abbildung"
        SPAN (&93834770987520)
          attr class "polarion-rte-caption"
          attr data-sequence "Abbildung"
          text "4"
        text ": Matrix-API des Messenger-Service"
      text " "
      P (&93834770988416)
        attr id "polarion_190"
      text " "
      P (&93834770988896)
        attr id "polarion_67"
        text "Die Webservices der Matrix-Homeserver werden nicht direkt von den TI-Messenger-Clients aufgerufen. Der Aufruf der Client-Server-API am Matrix-Homeserver erfolgt über den Messenger-Proxy. Dieser leitet alle Aufrufe der TI-Messenger-Clients an den Matrix-Homeserver per HTTP-Forward weiter. Die Kommunikation der Matrix-Homeserver untereinander erfolgt ebenfalls über den Messenger-Proxy. Auch hier wird die Kommunikation durch Forwarding für die Matrix-Server-Server-Kommunikation zum Homeserver weitergeleitet. Zum Versenden von Push-Notifications nutzt der Matrix-Homeserver die Matrix-Push-Gateway-API des Push-Gateways. "
      text " "
      P (&93834770989496)
        attr id "polarion_83"
        text "Der Messenger-Proxy agiert neben der Funktion als Proxy zur Weiterleitung aller Server-Server-API- und Client-Server-API-Aufrufe an den Homeserver als Kontrollinstanz, um für die Kommunikation notwendigen Rechte zu prüfen. Hierfür MUSS der Messenger-Proxy für alle Server-Server- und Client-Server-API-Endpunkte genutzt werden."
      text " "
      P (&93834770990096)
        attr id "polarion_105"
      text " "
      H3 (&93834770990576)
        attr id "5.2"
        text "5.2 Funktionen der Systemkomponenten"
      text " "
      P (&93834770991176)
        attr id "polarion_96"
        text "Im folgenden Kapitel werden alle für den Betrieb des TI-Messenger-Fachdienstes notwendigen Komponenten funktional beschrieben."
      text " "
      H4 (&93834770991776)
        attr id "5.2.1"
        text "5.2.1 Messenger-Service"
      text " "
      H5 (&93834770992376)
        attr id "5.2.1.1"
        text "5.2.1.1 Matrix-Homeserver"
      text " "
      P (&93834770992976)
        attr id "polarion_37"
        text "Der Matrix-Homeserver MUSS die Matrix-Spezifikation vollständig umsetzen. Bereits existierende Produkte, die der Matrix Spezifikation folgen, können als Matrix-Homeserver verwendet werden"
        SPAN (&93834770993456)
          attr style "font-style: normal;"
          text ", sofern die zusätzlichen vorausgesetzten MSCs:"
      text " "
      UL (&93834770994056)
        attr id "polarion_26"
        text " "
        LI (&93834770994536)
          SPAN (&93834770994720)
            attr style "font-style: normal;"
            A (&93834770995080)
              attr class "descriptionLink"
              attr href "https://github.com/matrix-org/matrix-doc/pull/3013"
              attr target "_top"
              text "MSC3013: Encrypted Push"
        text " "
        LI (&93834770996032)
          SPAN (&93834770996216)
            attr style "font-style: normal;"
            A (&93834770996576)
              attr class "descriptionLink"
              attr href "https://github.com/matrix-org/matrix-doc/pull/3359"
              attr target "_top"
              text "MSC3359: Delayed Push"
        text " "
        LI (&93834770997528)
          SPAN (&93834770997712)
            attr style "font-style: normal;"
            A (&93834770998072)
              attr class "descriptionLink"
              attr href "https://github.com/matrix-org/matrix-doc/pull/3361"
              attr target "_top"
              text "Opportunistic Direct Push"
          SPAN (&93834770998904)
            attr style "background-color: #FFFF99;"
            BR (&93834770999264)
        text " "
      text " "
      P (&93834770999688)
        attr id "polarion_54"
        SPAN (&93834771000048)
          attr style "font-style: normal;"
          text "implementiert wurden."
        SPAN (&93834771000528)
          attr style "font-style: normal;background-color: #99FF99;"
      text " "
      P (&93834771001008)
        attr id "polarion_48"
        text "Der Matrix-Homeserver eines Messenger-Service: "
      text " "
      UL (&93834771001608)
        attr id "polarion_224"
        text " "
        LI (&93834771002088)
          text "MUSS "
          SPAN (&93834771002392)
            attr style "font-size: 10pt;line-height: 1.5;"
            text "Anfragen vom eigenen Messenger-Proxy akzeptieren,"
        text " "
        LI (&93834771002992)
          SPAN (&93834771003176)
            attr style "font-size: 10pt;line-height: 1.5;"
            text "DARF Anfragen anderere Messenger-Proxies nicht akzeptieren."
          SPAN (&93834771003656)
            attr style "font-size: 10pt;background-color: #FFFFCC;line-height: 1.5;"
        text " "
      text " "
      P (&93834771004256)
        attr id "polarion_225"
        text "Die vom Matrix-Homeserver verwendeten Authentifizierungsverfahren MÜSSEN konfigurierbar sein."
        SPAN (&93834771004736)
          attr style "text-decoration: line-through;"
        text "Beim Anmeldeversuch eines neuen TI-Messenger-Nutzers an einem Matrix-Homeserver MUSS dieser alle unterstützten Authentifizierungsverfahren zur Auswahl anbieten. Nach einer erfolgreichen Anmeldung eines TI-Messenger-Nutzers bei dem Matrix-Homeserver stellt dieser ein von ihm erstelltes Matrix-ACCESS_TOKEN sowie ein"
        SPAN (&93834771005216)
          attr style "font-size: 10pt;line-height: 1.5;"
          text "Matrix-OpenID-Token "
        text "bereit. Das Matrix-ACCESS_TOKEN wird für jede weitere Autorisierung am Matrix-Homeserver verwendet. Das ausgestellte"
        SPAN (&93834771005816)
          attr style "font-size: 10pt;line-height: 1.5;"
          text "Matrix-OpenID-Token "
        text "wird für eine spätere Authentisierung am FHIR-Proxy des VZD-FHIR-Directory verwendet und MUSS eine Gültigkeitsdauer von 30 Minuten aufweisen."
      text " "
      P (&93834771006536)
        attr id "polarion_140"
      text " "
      P (&93834771007016)
        attr id "polarion_146"
        text "Im Folgenden ist eine Beispielkonfiguration eines Matrix-Homeservers dargestellt:"
      text " "
      P (&93834771007616)
        attr id "polarion_149"
      text " "
      P (&93834771008096)
        attr class "polarion-rte-caption-paragraph"
        attr data-keep-next "true"
        attr id "polarion_145"
        attr style "text-align: left;"
        text "Beispielkonfiguration eines Synapse Servers"
      text " "
      TABLE (&93834771009224)
        attr class "polarion-Document-table"
        attr id "polarion_wiki macro name=table;params=width=100%|uid=146"
        attr style "width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;border-collapse: collapse;"
        text " "
        TBODY (&93834771010056)
          text " "
          TR (&93834771010360)
            text " "
            TH (&93834771010736)
              attr style "font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"
              SPAN (&93834771011072)
                attr style "font-weight: normal;font-family: 'Courier New', Courier, monospace, HanWangKanTan;"
                text "acme:"
                BR (&93834771011552)
                text "    bind_addresses:"
                BR (&93834771011856)
                text "    - '::'"
                BR (&93834771012160)
                text "    - 0.0.0.0"
                BR (&93834771012464)
                text "    enabled: false"
                BR (&93834771012768)
                text "    port: 80"
                BR (&93834771013072)
                text "    reprovision_threshold: 30"
                BR (&93834771013376)
                text "    url: https://acme-v02.api.letsencrypt.org/directory"
                BR (&93834771013680)
                text "alias_creation_rules:"
                BR (&93834771013984)
                text "-   action: allow"
                BR (&93834771014288)
                text "    alias: '*'"
                BR (&93834771014592)
                text "    user_id: '*'"
                BR (&93834771014896)
                text "allow_guest_access: false"
                BR (&93834771015200)
                text "app_service_config_files: []"
                BR (&93834771015504)
                text "autocreate_auto_join_rooms: true"
                BR (&93834771015808)
                text "bcrypt_rounds: 12"
                BR (&93834771016112)
                text "database:"
                BR (&93834771016416)
                text "    args:"
                BR (&93834771016720)
                text "        cp_max: 10"
                BR (&93834771017024)
                text "        cp_min: 5"
                BR (&93834771017328)
                text "        database: synapse"
                BR (&93834771017632)
                text "        host: /var/run/postgresql"
                BR (&93834771017936)
                text "        password: min_32_recommended"
                BR (&93834771018240)
                text "        user: synapse"
                BR (&93834771018544)
                text "    name: psycopg2"
                BR (&93834771018848)
                text "dynamic_thumbnails: false"
                BR (&93834771019152)
                text "enable_group_creation: true"
                BR (&93834771019456)
                text "enable_metrics: true"
                BR (&93834771019760)
                text "enable_registration: false"
                BR (&93834771020064)
                text "event_cache_size: 10K"
                BR (&93834771020368)
                text "expire_access_token: false"
                BR (&93834771020672)
                text "federation_rc_concurrent: 3"
                BR (&93834771020976)
                text "federation_rc_reject_limit: 50"
                BR (&93834771021280)
                text "federation_rc_sleep_delay: 500"
                BR (&93834771021584)
                text "federation_rc_sleep_limit: 10"
                BR (&93834771021888)
                text "federation_rc_window_size: 1000"
                BR (&93834771022192)
                text "form_secret: min_32_alphanumeric_recommended"
                BR (&93834771022496)
                text "key_refresh_interval: 1d"
                BR (&93834771022800)
                text "listeners:"
                BR (&93834771023104)
                text "-   bind_addresses:"
                BR (&93834771023408)
                text "    - '::'"
                BR (&93834771023712)
                text "    - 0.0.0.0"
                BR (&93834771024016)
                text "    port: 8008"
                BR (&93834771024320)
                text "    resources:"
                BR (&93834771024624)
                text "    -   compress: true"
                BR (&93834771024928)
                text "        names:"
                BR (&93834771025232)
                text "        - client"
                BR (&93834771025536)
                text "    -   compress: false"
                BR (&93834771025840)
                text "        names:"
                BR (&93834771026144)
                text "        - federation"
                BR (&93834771026448)
                text "    type: http"
                BR (&93834771026752)
                text "    x_forwarded: true"
                BR (&93834771027056)
                text "-   bind_addresses:"
                BR (&93834771027360)
                text "    - 0.0.0.0"
                BR (&93834771027664)
                text "    port: 9001"
                BR (&93834771027968)
                text "    type: metrics"
                BR (&93834771028272)
                text "log_config: /opt/synapse/log.config"
                BR (&93834771028576)
                text "macaroon_secret_key: min_32_alphanumeric_recommended"
                BR (&93834771028880)
                text "max_image_pixels: 32M"
                BR (&93834771029184)
                text "max_spider_size: 10M"
                BR (&93834771029488)
                text "max_upload_size: 23M"
                BR (&93834771029792)
                text "media_store_path: /opt/synapse/media_store"
                BR (&93834771030096)
                text "no_tls: true"
                BR (&93834771030400)
                text "old_signing_keys: {}"
                BR (&93834771030704)
                text "password_config:"
                BR (&93834771031008)
                text "    enabled: true"
                BR (&93834771031312)
                text "password_providers:"
                BR (&93834771031616)
                text "-   config:"
                BR (&93834771031920)
                text "        algorithm: HS512"
                BR (&93834771032224)
                text "        allow_registration: true"
                BR (&93834771032528)
                text "        require_expiracy: true"
                BR (&93834771032832)
                text "        secret: min_32_alphanumeric_recommended"
                BR (&93834771033136)
                text "    module: token_authenticator.TokenAuthenticator"
                BR (&93834771033440)
                text "perspectives:"
                BR (&93834771033744)
                text "    servers:"
                BR (&93834771034048)
                text "        matrix.org:"
                BR (&93834771034352)
                text "            verify_keys:"
                BR (&93834771034656)
                text "                ed25519:auto:"
                BR (&93834771034960)
                text "                    key: Noi6WqcDj0QmPxCNQqgezwTlBKrfqehY1u2FyWP9uYw"
                BR (&93834771035264)
                text "pid_file: /opt/synapse/synapse.pid"
                BR (&93834771035568)
                text "public_baseurl: https://matrix-client.meine-arztpraxis.hausaerzte-berlin.de"
                BR (&93834771035872)
                text "push:"
                BR (&93834771036176)
                text "    include_content: false"
                BR (&93834771036480)
                text "rc_login:"
                BR (&93834771036784)
                text "    account:"
                BR (&93834771037088)
                text "        burst_count: 10"
                BR (&93834771037392)
                text "        per_second: 1"
                BR (&93834771037696)
                text "    address:"
                BR (&93834771038000)
                text "        burst_count: 100"
                BR (&93834771038304)
                text "        per_second: 10"
                BR (&93834771038608)
                text "rc_message_burst_count: 10.0"
                BR (&93834771038912)
                text "rc_messages_per_second: 0.2"
                BR (&93834771039216)
                text "# optional, for using synapse workers"
                BR (&93834771039520)
                text "redis:"
                BR (&93834771039824)
                text "    enabled: false"
                BR (&93834771040128)
                text "    host: redis_host"
                BR (&93834771040432)
                text "    password: min_128_alphanumeric_recommended"
                BR (&93834771040736)
                text "    port: 6379"
                BR (&93834771041040)
                text "registration_shared_secret: min_32_alphanumeric_recommended"
                BR (&93834771041344)
                text "report_stats: true"
                BR (&93834771041648)
                text "report_stats_endpoint: https://synapse-stats.gematik.de/push"
                BR (&93834771041952)
                text "room_prejoin_state:"
                BR (&93834771042256)
                text "    additional_event_types:"
                BR (&93834771042560)
                text "    - m.room.type"
                BR (&93834771042864)
                text "    - de.gematik.ti-messenger.passport"
                BR (&93834771043168)
                text "    disable_default_event_types: false"
                BR (&93834781535072)
                text "server_name: meine-arztpraxis.hausaerzte-berlin.de"
                BR (&93834781535376)
                text "signing_key_path: /opt/synapse/tls/meine-arztpraxis.hausaerzte-berlin.de.signing.key"
                BR (&93834781535680)
                text "soft_file_limit: 0"
                BR (&93834781535984)
                text "thumbnail_sizes:"
                BR (&93834781536288)
                text "-   height: 32"
                BR (&93834781536592)
                text "    method: crop"
                BR (&93834781536896)
                text "    width: 32"
                BR (&93834781537200)
                text "-   height: 96"
                BR (&93834781537504)
                text "    method: crop"
                BR (&93834781537808)
                text "    width: 96"
                BR (&93834781538112)
                text "-   height: 240"
                BR (&93834781538416)
                text "    method: scale"
                BR (&93834781538720)
                text "    width: 320"
                BR (&93834781539024)
                text "-   height: 480"
                BR (&93834781539328)
                text "    method: scale"
                BR (&93834781539632)
                text "    width: 640"
                BR (&93834781539936)
                text "-   height: 600"
                BR (&93834781540240)
                text "    method: scale"
                BR (&93834781540544)
                text "    width: 800"
                BR (&93834781540848)
                text "tls_certificate_path: /opt/synapse/tls/meine-arztpraxis.hausaerzte-berlin.de.crt"
                BR (&93834781541152)
                text "tls_fingerprints: []"
                BR (&93834781541456)
                text "tls_private_key_path: /opt/synapse/tls/meine-arztpraxis.hausaerzte-berlin.de.key"
                BR (&93834781541760)
                text "track_appservice_user_ips: false"
                BR (&93834781542064)
                text "trusted_third_party_id_servers: []"
                BR (&93834781542368)
                text "turn_allow_guests: true"
                BR (&93834781542672)
                text "turn_shared_secret: min_64_recommended"
                BR (&93834781542976)
                text "turn_uris:"
                BR (&93834781543280)
                text "- turns:matrix-voip.tim-provider.de:3478?transport=udp"
                BR (&93834781543584)
                text "- turns:matrix-voip.tim-provider.de:3478?transport=tcp"
                BR (&93834781543888)
                text "turn_user_lifetime: 2h"
                BR (&93834781544192)
                text "uploads_path: /opt/synapse/uploads"
                BR (&93834781544496)
                text "url_preview_enabled: true"
                BR (&93834781544800)
                text "url_preview_ip_range_blacklist:"
                BR (&93834781545104)
                text "- 127.0.0.0/8"
                BR (&93834781545408)
                text "- 10.0.0.0/8"
                BR (&93834781545712)
                text "- 172.16.0.0/12"
                BR (&93834781546016)
                text "- 192.168.0.0/16"
                BR (&93834781546320)
                text "- 100.64.0.0/10"
                BR (&93834781546624)
                text "- 169.254.0.0/16"
                BR (&93834781546928)
                text "- ::1/128"
                BR (&93834781547232)
                text "- fe80::/64"
                BR (&93834781547536)
                text "- fc00::/7"
                BR (&93834781547840)
                text "url_preview_url_blacklist:"
                BR (&93834781548144)
                text "-   username: '*'"
                BR (&93834781548448)
                text "-   netloc: google.com"
                BR (&93834781548752)
                text "-   netloc: '*.google.com'"
                BR (&93834781549056)
                text "-   netloc: twitter.com"
                BR (&93834781549360)
                text "-   netloc: '*.twitter.com'"
                BR (&93834781549664)
                text "-   netloc: t.co"
                BR (&93834781549968)
                text "-   netloc: '*.t.co'"
                BR (&93834781550272)
                text "use_presence: true"
            text " "
          text " "
        text " "
      text " "
      P (&93834781551056)
        attr id "polarion_147"
      text " "
      P (&93834781551512)
        attr id "polarion_69"
      text " "
      P (&93834781551992)
        attr id "polarion_94"
      text " "
      DIV (&93834781552472)
        attr id "ML-123905"
        text " "
        P (&93834781552952)
          B (&93834781553136)
            text "ML-123905 - Umsetzung von BSI-Vorgaben für Server (Produkt)"
        text " "
        P (&93834781553560)
          text "Der TI-Messenger-Fachdienst SOLL den Vorgaben von [BSI-ISI-Server] folgen."
          BR (&93834781553864)
          text " "
          SPAN (&93834781554168)
            attr id "polarion-comment:111"
          text " "
          B (&93834781554648)
            text "[<=]"
        text " "
      text " "
      DIV (&93834781555192)
        attr id "ML-123956"
        text " "
        P (&93834781555672)
          B (&93834781555856)
            text "ML-123956 - Umsetzung von BSI-Vorgaben für Server (Anbieter)"
        text " "
        P (&93834781556280)
          text "Der TI-Messenger-Anbieter SOLL den Vorgaben von [BSI-ISI-Server] folgen."
          SPAN (&93834781556584)
            attr style "background-color: #FFFF99;"
            SPAN (&93834781556944)
              attr id "polarion-comment:248"
          BR (&93834781557304)
          text " "
          B (&93834781557608)
            text "[<=]"
        text " "
      text " "
      P (&93834781558152)
        attr id "polarion_41"
      text " "
      H5 (&93834781558632)
        attr id "5.2.1.2"
        text "5.2.1.2 Messenger-Proxy"
      text " "
      P (&93834781559232)
        attr id "polarion_110"
        text "Der Messenger-Proxy ist eine Kernkomponente der dezentralen Messenger-Services. Alle Anfragen der TI-Messenger-Clients und anderen Messenger-Services zum Matrix-Homeserver MÜSSEN über den Messenger-Proxy geleitet werden. Die TLS-Kommunikation zwischen den TI-Messenger-Clients und den Matrix-Homeserver MUSS am Messenger-Proxy terminiert werden. Die Absicherung der TLS-Kommunikation MUSS durch eine einseitige Serverauthentisierung unter Nutzung eines X.509-Zertifikats erfolgen."
      text " "
      P (&93834781559832)
        attr id "polarion_117"
        SPAN (&93834781560192)
          attr style "text-decoration: line-through;background-color: #FFFF99;"
      text " "
      P (&93834781560672)
        attr id "polarion_51"
        text "Die Kommunkation zwischen TI-Messenger-Client und Matrix-Homeserver erfolgt immer über den Messenger-Proxy (Forwarding).Der Messenger-Proxy MUSS sowohl als"
        SPAN (&93834781561152)
          attr style "font-size: 10pt;line-height: 1.5;"
          text "Reverse Proxy als auch als Forward Proxy fungieren. Alle eingehenden Kommunikationen MUSS der Messenger-Proxy an den Matrix-Homeserver weiterleiten. Eine Kommunikation vom Matrix-Homeserver zum TI-Messenger-Client und auch zu einem anderen Matrix-Homeserver bei einem anderen Messenger-Service MUSS über den Messenger-Proxy weitergeleitet werden."
      text " "
      P (&93834781561752)
        attr id "polarion_106"
        SPAN (&93834781562112)
          attr style "font-size: 10pt;line-height: 1.5;"
          text "Für alle Server-to-Server Anfragen (Anfragen, deren Pfad unter"
          SPAN (&93834781562592)
            attr style "font-family: 'Courier New', Courier, monospace, HanWangKanTan;"
            text "/_matrix/federation"
          text "liegt) MUSS beim anfragenden Matrix-Homeserver im Messenger-Proxy geprüft werden, ob der Zielhomeserver der Anfrage Teil der Föderation ist. Hierfür MUSS MSC3383 ("
          A (&93834781563192)
            attr class "descriptionLink"
            attr href "https://github.com/matrix-org/matrix-doc/pull/3383"
            attr target "_top"
            text "https://github.com/matrix-org/matrix-doc/pull/3383"
          text ") implementiert und das"
          SPAN (&93834781564144)
            attr style "font-family: 'Courier New', Courier, monospace, HanWangKanTan;"
            text "destination"
          text "-Feld im"
          SPAN (&93834781564744)
            attr style "font-family: 'Courier New', Courier, monospace, HanWangKanTan;"
            text "Authorization"
          text "-Header des HTTP Requests geprüft werden. Wenn der Server an der Föderation teilnimmt, darf der Request abgesendet werden, wobei eine Authentisierung des Zielhomeservers gemäß [Federation API#4.2] beschrieben mittels TLS Zertifikat durchgeführt werden muss. Für eingehende Server-to-Server Anfragen MUSS der Messenger-Proxy eine Authentisierung gemäß [Federation API#4.1] beschrieben durchführen. Sobald der Homeserver damit authentisiert wurde, MUSS validiert werden, dass der Homeserver an der Föderation teilnimmt."
      text " "
      P (&93834781565464)
        attr id "polarion_31"
        SPAN (&93834781565824)
          attr style "font-size: 10pt;line-height: 1.5;"
          BR (&93834781566184)
          text "Die Prüfung, ob ein Matrix-Homeserver an der Föderation teilnimmt, basiert auf der Domain. Eine Liste an aktuell verifizierten und zugelassenen Domains kann vom VZD-FHIR-Directory über den Registrierungs-Dienst angefragt werden. Wie die Domains vom Registrierungs-Dienst an die Messenger-Proxies verteilt werden ist nicht konkreter spezifiziert."
        SPAN (&93834781566488)
          attr style "font-size: 10pt;background-color: #FFFF33;line-height: 1.5;"
      text " "
      P (&93834781566968)
        attr id "polarion_175"
        text "Beim Aufruf von 2 RESTful-Endpunkten auf den Matrix-Homeservern über den Messenger-Proxy prüft dieser Inhalte wie folgt:"
      text " "
      P (&93834781567736)
        attr id "polarion_205"
      text " "
      P (&93834781568064)
        attr id "polarion_46"
        SPAN (&93834781568424)
          attr style "font-weight: bold;"
          text "Invite-Endpunkt (Punkt 12 Server-Server API)"
      text " "
      P (&93834781569024)
        attr id "polarion_47"
        text "Der Messenger-Proxy MUSS Prüfregeln unterstützen. Hierfür agiert der Messenger-Proxy als eine Prüfinstanz, wie folgend beschrieben. Handelt es sich bei der Anfrage um ein"
        SPAN (&93834781569504)
          attr style "font-style: normal;font-family: 'Courier New', Courier, monospace, HanWangKanTan;"
          text "Invite-Event"
        text " "
        SPAN (&93834781570104)
          attr style "font-style: italic;"
        SPAN (&93834781570464)
          attr style "font-style: normal;"
          text "MUSS der Messenger-Proxy folgende Prüfregeln anwenden:"
      text " "
      P (&93834781571064)
        attr id "polarion_63"
        SPAN (&93834781571424)
          attr style "font-style: normal;text-decoration: line-through;"
      text " "
      P (&93834781571904)
        attr id "polarion_65"
        SPAN (&93834781572264)
          attr style "background-color: #FFFFCC;"
      text " "
      UL (&93834781572744)
        attr id "polarion_81"
        text " "
        LI (&93834781573224)
          text "Der Messenger-Proxy MUSS prüfen, ob ein PASSporT vorhanden, gültig ist und auch für den einladenden Nutzer ausgestellt wurde. Das Zertifikat zur Prüfung des PASSporT erhält der Messenger-Proxy vom Registrierungs-Dienst. Der Registrierungs-Dienst ruft die Zertifikate vom VZD-FHIR-Directory ab."
        text " "
      text " "
      P (&93834781573768)
        attr id "polarion_153"
        text "Die Kommunikation zum Registrierungs-Dienst MUSS durch TLS abgesichert werden."
      text " "
      P (&93834781574368)
        attr id "polarion_156"
      text " "
      P (&93834781574848)
        attr id "polarion_167"
        text "Im Folgenden wird ein Beispiel für einen"
        SPAN (&93834781575328)
          attr style "font-family: 'Courier New', Courier, monospace, HanWangKanTan;"
          text "Invite-Event"
        text "gezeigt."
      text " "
      TABLE (&93834781576048)
        attr class "polarion-Document-table"
        attr id "polarion_wiki macro name=table;params=uid=1"
        attr style "width: 80%;margin-left: 0px;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;border-collapse: collapse;"
        text " "
        TBODY (&93834781576880)
          text " "
          TR (&93834781577184)
            text " "
            TH (&93834781577488)
              attr style "font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"
              SPAN (&93834781577848)
                attr style "font-weight: normal;font-family: 'Courier New', Courier, monospace, HanWangKanTan;"
                text "{"
                BR (&93834781578328)
                text "    "content": {"
                BR (&93834781578632)
                text "        "avatar_url": "mxc://example.org/SEsfnsuifSDFSSEF","
                BR (&93834781578936)
                text "        "displayname": "Alice Margatroid","
                BR (&93834781579240)
                text "        "membership": "invite""
                BR (&93834781579544)
                text "    },"
                BR (&93834781579848)
                text "    "event_id": "$143273582443PhrSn:example.org","
                BR (&93834781580152)
                text "    "origin_server_ts": 1432735824653,"
                BR (&93834781580456)
                text "    "room_id": "!jEsUZKDJdhlrceRyVU:example.org","
                BR (&93834781580760)
                text "    "sender": "@orig:example.org","
                BR (&93834781581064)
                text "    "state_key": "@dest:example.org","
                BR (&93834781581368)
                text "    "type": "m.room.member","
                BR (&93834781581672)
                text "    "unsigned": {"
                BR (&93834781581976)
                text "        "age": 1234,"
                BR (&93834781582280)
                text "        "invite_room_state": ["
                BR (&93834781582584)
                text "            {"
                BR (&93834781582888)
                text "                "content": {"
                BR (&93834781583192)
                text "                    "token": "<PASSporT>""
                BR (&93834781583496)
                text "                },"
                BR (&93834781583800)
                text "                "sender": "@orig:example.org","
                BR (&93834781584104)
                text "                "state_key": "@dest:example.org","
                BR (&93834781584408)
                text "                "type": "de.gematik.ti-messenger.passport""
                BR (&93834781584712)
                text "            },"
                BR (&93834781585016)
                text "            {"
                BR (&93834781585320)
                text "                "content": {"
                BR (&93834781585624)
                text "                    "join_rule": "invite""
                BR (&93834781585928)
                text "                },"
                BR (&93834781586232)
                text "                "sender": "@orig:example.org","
                BR (&93834781586536)
                text "                "state_key": "","
                BR (&93834781586840)
                text "                "type": "m.room.join_rules""
                BR (&93834781587144)
                text "            }"
                BR (&93834781587448)
                text "        ]"
                BR (&93834781587752)
                text "    }"
                BR (&93834781588056)
                text "}"
            text " "
          text " "
        text " "
      text " "
      P (&93834781588840)
        attr id "polarion_45"
      text " "
      P (&93834781589320)
        attr id "polarion_109"
        SPAN (&93834781589680)
          attr style "text-decoration: line-through;background-color: #FFFF33;"
      text " "
      P (&93834781590160)
        attr id "polarion_68"
        SPAN (&93834781590520)
          attr style "font-weight: bold;background-color: #FFFF99;"
        SPAN (&93834781590880)
          attr style "font-weight: bold;"
          text "Profiles Endpunkt (Punkt 11.2 Client-Server API)"
      text " "
      P (&93834781591480)
        attr id "polarion_84"
        text "Der Messenger-Proxy MUSS verhindern, dass Nutzer den eigenen Displaynamen ändern können. Der Displayname darf nur durch einen Nutzer in der Rolle"
        SPAN (&93834781591960)
          attr style "font-style: italic;"
          text "Org-Admin"
        text "geändert werden."
      text " "
      P (&93834781592680)
        attr id "polarion_114"
      text " "
      H5 (&93834781593160)
        attr id "5.2.1.3"
        text "5.2.1.3 PASSporT-Service"
      text " "
      P (&93834781593760)
        attr id "polarion_17"
        text "Der PASSporT-Service des Messenger-Service stellt für einen Nutzer ein"
        SPAN (&93834781594240)
          attr style "font-style: italic;"
          text "Personal Assertion Token"
        text "(PASSporT) gemäß [RFC 8225] aus, wenn die Nutzung des PASSporT-Service des VZD-FHIR-Directory nicht möglich ist. Das ist z. B. der Fall, wenn der relevante Kommunikationspartner nicht im VZD-FHIR-Directory eingetragen ist. Welche Kommunikationsmöglichkeiten zwischen den jeweiligen Nutzer möglich sind wird in [gemSpec_TI-Messenger-Dienst#3.3] beschrieben."
        SPAN (&93834781594840)
          attr style "background-color: #FFFFCC;"
      text " "
      P (&93834781595320)
        attr id "polarion_89"
        text "In der folgenden Tabelle sind alle Ressourcen mit den jeweiligen HTTP-Methoden dargestellt. Die jeweilige Operation ist eine Abstraktion auf einen Webservice Endpunkt."
      text " "
      P (&93834781595920)
        attr id "polarion_100"
      text " "
      P (&93834781596400)
        attr class "polarion-rte-caption-paragraph"
        attr data-keep-next "true"
        attr id "polarion_107"
        attr style "text-align: left;"
        text "Tabelle"
        SPAN (&93834781597408)
          attr class "polarion-rte-caption"
          attr data-sequence "Tabelle"
          text "4"
        text ": Schnittstelle - PASSporT-Service"
      text " "
      TABLE (&93834781598304)
        attr class "polarion-Document-table"
        attr id "polarion_wiki macro name=table;params=uid=101|width=93.93%"
        attr style "width: 93.93%;margin-left: 0px;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;border-collapse: collapse;"
        text " "
        TBODY (&93834781599136)
          text " "
          TR (&93834781599440)
            text " "
            TH (&93834781599744)
              attr style "font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 107px;height: 12px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Operation "
            text " "
            TH (&93834781600520)
              attr style "font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 77px;height: 12px;border: 1px solid #CCCCCC;padding: 5px;"
              text " URI"
            text " "
            TH (&93834781600968)
              attr style "font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 57px;height: 12px;border: 1px solid #CCCCCC;padding: 5px;"
              text " Methode"
            text " "
            TH (&93834781601568)
              attr style "font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 80px;height: 12px;border: 1px solid #CCCCCC;padding: 5px;"
              text " Request"
            text " "
            TH (&93834781602168)
              attr style "font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 98px;height: 12px;border: 1px solid #CCCCCC;padding: 5px;"
              text " Response"
            text " "
            TH (&93834781602768)
              attr style "font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 231px;height: 12px;border: 1px solid #CCCCCC;padding: 5px;"
              text " Beschreibung"
            text " "
          text " "
          TR (&93834781603488)
            text " "
            TD (&93834781603792)
              attr style "text-align: left;vertical-align: top;width: 107px;height: 12px;border: 1px solid #CCCCCC;padding: 5px;"
              SPAN (&93834781604152)
                attr style "font-family: 'Courier New', Courier, monospace, HanWangKanTan;"
                text "get_passport"
            text " "
            TD (&93834781604752)
              attr style "text-align: left;vertical-align: top;width: 77px;height: 12px;border: 1px solid #CCCCCC;padding: 5px;"
              text "/user/{mxid} "
            text " "
            TD (&93834781605352)
              attr style "text-align: left;vertical-align: top;width: 57px;height: 12px;border: 1px solid #CCCCCC;padding: 5px;"
              text "GET"
            text " "
            TD (&93834781605952)
              attr style "text-align: left;vertical-align: top;width: 80px;height: 12px;border: 1px solid #CCCCCC;padding: 5px;"
              text "string"
              BR (&93834781606432)
              text "<MXID>"
            text " "
            TD (&93834781606856)
              attr style "text-align: left;vertical-align: top;width: 98px;height: 12px;border: 1px solid #CCCCCC;padding: 5px;"
              text "string"
              BR (&93834781607336)
              text "<PASSporT>"
            text " "
            TD (&93834781607760)
              attr style "text-align: left;vertical-align: top;width: 231px;height: 12px;border: 1px solid #CCCCCC;padding: 5px;"
              text "liefert ein für den anfragenden Nutzer ausgestelltes PASSporT"
              BR (&93834781608240)
            text " "
          text " "
        text " "
      text " "
      P (&93834781608904)
        attr id "polarion_102"
      text " "
      P (&93834781609384)
        attr id "polarion_143"
        text "Es ist folgender Endpunkt zu verwenden:"
      text " "
      TABLE (&93834781609984)
        attr id "polarion_194"
        text " "
        TBODY (&93834781610464)
          text " "
          TR (&93834781610768)
            text " "
            TD (&93834781611072)
              SPAN (&93834781611256)
                attr style "font-family: 'Courier New', Courier, monospace, HanWangKanTan;"
                text "servers:"
            text " "
          text " "
          TR (&93834781611976)
            text " "
            TD (&93834781612280)
            text " "
          text " "
        text " "
      text " "
      P (&93834781612944)
        attr id "polarion_197"
        SPAN (&93834781613304)
          attr style "font-family: 'Courier New', Courier, monospace, HanWangKanTan;"
          text "- GET /_matrix/client/unstable/"
          SPAN (&93834781613784)
            attr style "font-size: 10pt;line-height: 1.5;"
            text "de.gematik.tim.passport"
          text "/user/{mxid}"
      text " "
      P (&93834781614504)
        attr id "polarion_198"
      text " "
      P (&93834781614984)
        attr id "polarion_138"
        text "Vor der Herausgabe des PASSporT durch den PASSporT-Service sind die Berechtigungen der beabsichtigten Teilnehmer zu prüfen. Dies betrifft zum einen die Berechtigung eines Nutzers die beabsichtigte Kommunikationsbeziehung aufzubauen und zum anderen, ob die übergebene MXID eines Nutzers einen in der Föderation enthaltenen Messenger-Service ausweist. Sollte es bei der Prüfung zu einem Fehler kommen, MÜSSEN die folgenden Fehlercodes verwendet werden."
      text " "
      P (&93834781615584)
        attr id "polarion_170"
      text " "
      P (&93834781616064)
        attr class "polarion-rte-caption-paragraph"
        attr data-keep-next "true"
        attr id "polarion_101"
        attr style "text-align: left;"
        text "Tabelle"
        SPAN (&93834781617072)
          attr class "polarion-rte-caption"
          attr data-sequence "Tabelle"
          text "5"
        text "Error-Code PASSporT-Service"
      text " "
      TABLE (&93834781617968)
        attr class "polarion-Document-table"
        attr id "polarion_wiki macro name=table;params=uid=1|width=75.36%"
        attr style "width: 75.36%;margin-left: 0px;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;border-collapse: collapse;"
        text " "
        TBODY (&93834781618800)
          text " "
          TR (&93834781619104)
            text " "
            TH (&93834781619408)
              attr style "font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 150px;height: 12px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Error-Code"
            text " "
            TH (&93834781620008)
              attr style "font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 396px;height: 12px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Beschreibung"
            text " "
          text " "
          TR (&93834781620728)
            text " "
            TD (&93834781621032)
              attr style "text-align: left;vertical-align: top;width: 150px;height: 12px;border: 1px solid #CCCCCC;padding: 5px;"
              text "403 Forbidden "
            text " "
            TD (&93834781621632)
              attr style "text-align: left;vertical-align: top;width: 396px;height: 12px;border: 1px solid #CCCCCC;padding: 5px;"
              text "der Nutzer ist nicht berechtigt ein PASSporT für den"
              SPAN (&93834781622112)
                attr style "font-family: 'Courier New', Courier, monospace, HanWangKanTan;"
                text "Invite"
              text "auszulösen"
            text " "
          text " "
          TR (&93834781622952)
            text " "
            TD (&93834781623256)
              attr style "text-align: left;vertical-align: top;width: 150px;height: 12px;border: 1px solid #CCCCCC;padding: 5px;"
              text "404 Not Found"
            text " "
            TD (&93834781623856)
              attr style "text-align: left;vertical-align: top;width: 396px;height: 12px;border: 1px solid #CCCCCC;padding: 5px;"
              text "die übergebe MXID ist nicht von einem Nutzer innerhalb der Föderation"
            text " "
          text " "
          TR (&93834781624576)
            text " "
            TD (&93834781624880)
              attr style "text-align: left;vertical-align: top;width: 150px;height: 12px;border: 1px solid #CCCCCC;padding: 5px;"
              text "503 Service Unavailable"
            text " "
            TD (&93834781625480)
              attr style "text-align: left;vertical-align: top;width: 396px;height: 12px;border: 1px solid #CCCCCC;padding: 5px;"
              text "der PASSporT-Service ist nicht erreichbar"
            text " "
          text " "
          TR (&93834781626200)
            text " "
            TD (&93834781626504)
              attr style "text-align: left;vertical-align: top;width: 150px;height: 12px;border: 1px solid #CCCCCC;padding: 5px;"
              text "500 Internal Server Error"
            text " "
            TD (&93834781627104)
              attr style "text-align: left;vertical-align: top;width: 396px;height: 12px;border: 1px solid #CCCCCC;padding: 5px;"
              text "interner Server Error"
            text " "
          text " "
        text " "
      text " "
      P (&93834781628064)
        attr id "polarion_171"
      text " "
      P (&93834781628544)
        attr id "polarion_201"
        SPAN (&93834781628904)
          attr style "font-weight: bold;"
          text "Aufbau des PASSporT"
      text " "
      P (&93834781629504)
        attr id "polarion_212"
        text "Der Aufbau des PASSporT MUSS wie im [RFC 8225] beschrieben erfolgen. Die Befüllung der gezeigten Header Elemente MUSS wie im [RFC 8225] gefordert erfolgen und wie folgt aufgebaut sein:"
      text " "
      P (&93834781630104)
        attr id "polarion_33"
      text " "
      P (&93834781630584)
        attr id "polarion_29"
        SPAN (&93834781630944)
          attr style "font-weight: normal;font-style: normal;"
      text " "
      TABLE (&93834781631424)
        attr class "polarion-Document-table"
        attr id "polarion_wiki macro name=table;params=uid=108"
        attr style "width: 80%;margin-left: 0px;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;border-collapse: collapse;"
        text " "
        TBODY (&93834781632256)
          text " "
          TR (&93834781632560)
            text " "
            TH (&93834781632864)
              attr style "font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;height: 12px;border: 1px solid #CCCCCC;padding: 5px;"
              SPAN (&93834783747496)
                attr style "font-family: 'Courier New', Courier, monospace, HanWangKanTan;"
                SPAN (&93834783747832)
                  attr style "font-weight: normal;font-style: normal;"
                  text "Header:"
                BR (&93834783748312)
                text " "
                SPAN (&93834783748616)
                  attr style "font-weight: normal;font-style: normal;"
                  text "   {"
                BR (&93834783749096)
                text " "
                SPAN (&93834783749400)
                  attr style "font-weight: normal;font-style: normal;"
                  text "      "typ":"passport","
                BR (&93834783749880)
                text " "
                SPAN (&93834783750184)
                  attr style "font-weight: normal;font-style: normal;"
                  text "      "alg":"ES256","
                BR (&93834783750664)
                text " "
                SPAN (&93834783750968)
                  attr style "font-weight: normal;font-style: normal;"
                  text "      "x5u":"https://cert.example.org/passport.cer""
                BR (&93834783751448)
                text " "
                SPAN (&93834783751752)
                  attr style "font-weight: normal;font-style: normal;"
                  text "   }"
                BR (&93834783752232)
            text " "
          text " "
        text " "
      text " "
      PRE (&93834783752896)
        attr id "polarion_178"
      text " "
      P (&93834783753376)
        attr id "polarion_119"
        text "Das Erstellen des PASSporT MUSS durch den PASSporT-Service des beabsichtigten Kommunikationspartners erfolgen. Die TI-Messenger-spezifischen PASSporT-Claims sind durch den PASSporT-Service wie folgt zu befüllen. Der Claim mit dem Bezeichner ""
        SPAN (&93834783753856)
          attr style "font-family: 'Courier New', Courier, monospace, HanWangKanTan;"
          text "orig"
        text "" ist die MXID des Nutzers, der das"
        SPAN (&93834783754456)
          attr style "font-family: 'Courier New', Courier, monospace, HanWangKanTan;"
          text "invite"
        text "auslösen wird. Diese MXID wird durch den Nutzer an den gewünschten Kommunikationspartner übergeben. Der Claim ""
        SPAN (&93834783755056)
          attr style "font-family: 'Courier New', Courier, monospace, HanWangKanTan;"
          text "dest"
        text "" wird mit der MXID des damit einzuladenden Nutzers befüllt. Das folgende Beispiel zeigt eine solche Struktur."
      text " "
      PRE (&93834783755776)
        attr id "polarion_182"
      text " "
      TABLE (&93834783756256)
        attr class "polarion-Document-table"
        attr id "polarion_wiki macro name=table;params=uid=2"
        attr style "width: 80%;margin-left: 0px;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;border-collapse: collapse;"
        text " "
        TBODY (&93834783757088)
          text " "
          TR (&93834783757392)
            text " "
            TH (&93834783757696)
              attr style "font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 592px;height: 60px;border: 1px solid #CCCCCC;padding: 5px;"
              SPAN (&93834783758056)
                attr style "font-weight: normal;font-family: 'Courier New', Courier, monospace, HanWangKanTan;"
                text "Claims:"
                BR (&93834783758536)
                text "  {"
                BR (&93834783758840)
                text "      "orig": {"
                BR (&93834783759144)
                text "          "uri": "matrix:u/me:example.org""
                BR (&93834783759448)
                text "      },"
                BR (&93834783759752)
                text "      "dest": {"
                BR (&93834783760056)
                text "          "uri": ["
                BR (&93834783760360)
                text "             "matrix:u/you:example.org""
                BR (&93834783760664)
                text "          ]"
                BR (&93834783760968)
                text "      }"
                BR (&93834783761272)
                text "  }"
            text " "
          text " "
        text " "
      text " "
      P (&93834783762056)
        attr id "polarion_52"
      text " "
      P (&93834783762536)
        attr id "polarion_80"
        text "Das erzeugte PASSporT wird durch den PASSporT-Service mit einem Zertifikat aus der Komponenten PKI der TI signiert und anschließend an den TI-Messenger Client übergeben, der das"
        SPAN (&93834783763016)
          attr style "font-family: 'Courier New', Courier, monospace, HanWangKanTan;"
          text "invite"
        text "auslöst. Die Zertifikate haben die keyUsage = digitalSignature."
      text " "
      P (&93834783763736)
        attr id "polarion_188"
        text "Zur besseren Veranschaulichung dient die folgende Darstellung:"
      text " "
      P (&93834783764336)
        attr id "polarion_111"
      text " "
      P (&93834783764816)
        attr class "polarion-rte-caption-paragraph"
        attr data-keep-next "true"
        attr id "polarion_99"
        attr style "text-align: left;"
        text "Tabelle"
        SPAN (&93834783765824)
          attr class "polarion-rte-caption"
          attr data-sequence "Tabelle"
          text "6"
        text ": Ablauf PASSporT-Erstellung"
      text " "
      TABLE (&93834783766720)
        attr class "polarion-Document-table"
        attr id "polarion_wiki macro name=table;params=width=100%|uid=9"
        attr style "width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;border-collapse: collapse;"
        text " "
        TBODY (&93834783767552)
          text " "
          TR (&93834783767856)
            text " "
            TH (&93834783768160)
              attr style "font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 164.578px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Client A"
            text " "
            TH (&93834783768760)
              attr style "font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 415.609px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Client B"
            text " "
          text " "
          TR (&93834783769480)
            text " "
            TD (&93834783769784)
              attr style "text-align: left;vertical-align: top;width: 164.578px;height: 38px;border: 1px solid #CCCCCC;padding: 5px;"
              SPAN (&93834783770144)
                attr style "font-size: 10pt;line-height: 1.5;"
                text "1: Client A übergibt seine MXID an den Client B"
              BR (&93834783770624)
            text " "
            TD (&93834783770928)
              attr style "text-align: left;vertical-align: top;width: 415.609px;height: 38px;border: 1px solid #CCCCCC;padding: 5px;"
            text " "
          text " "
          TR (&93834783771528)
            text " "
            TD (&93834783771832)
              attr style "text-align: left;vertical-align: top;width: 164.578px;height: 40px;border: 1px solid #CCCCCC;padding: 5px;"
            text " "
            TD (&93834783772312)
              attr style "text-align: left;vertical-align: top;width: 415.609px;height: 40px;border: 1px solid #CCCCCC;padding: 5px;"
              SPAN (&93834783772672)
                attr style "font-size: 10pt;line-height: 1.5;"
                text "2: Client B nimmt MXID von A und übergibt diese an den  PASSporT-Service seines Messenger-Service"
                SPAN (&93834783773152)
                  attr style "font-family: 'Courier New', Courier, monospace, HanWangKanTan;"
                  text "<get_passport>"
            text " "
          text " "
          TR (&93834783773872)
            text " "
            TD (&93834783774176)
              attr style "text-align: left;vertical-align: top;width: 164.578px;height: 61px;border: 1px solid #CCCCCC;padding: 5px;"
            text " "
            TD (&93834783774656)
              attr style "text-align: left;vertical-align: top;width: 415.609px;height: 61px;border: 1px solid #CCCCCC;padding: 5px;"
              text "3: PASSporT-Service von B erzeugt PASSporT mit:"
              BR (&93834783775136)
              text "„"
              SPAN (&93834783775440)
                attr style "font-family: 'Courier New', Courier, monospace, HanWangKanTan;"
                text "dest"
              text "“: MXID von Nutzer B"
              BR (&93834783776040)
              text "„"
              SPAN (&93834783776344)
                attr style "font-family: 'Courier New', Courier, monospace, HanWangKanTan;"
                text "Orig"
              text "“: MXID von Nutzer A"
              BR (&93834783776944)
            text " "
          text " "
          TR (&93834783777368)
            text " "
            TD (&93834783777672)
              attr style "text-align: left;vertical-align: top;width: 164.578px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;"
            text " "
            TD (&93834783778152)
              attr style "text-align: left;vertical-align: top;width: 415.609px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;"
              SPAN (&93834783778512)
                attr style "font-size: 10pt;line-height: 1.5;"
                text "4: PASSporT wird von B an den Client A übergeben"
            text " "
          text " "
          TR (&93834783779232)
            text " "
            TD (&93834783779536)
              attr style "text-align: left;vertical-align: top;width: 164.578px;height: 38px;border: 1px solid #CCCCCC;padding: 5px;"
              SPAN (&93834783779896)
                attr style "font-size: 10pt;line-height: 1.5;"
                text "5: Nutzer A löst invite an Nutzer B aus"
            text " "
            TD (&93834783780520)
              attr style "text-align: left;vertical-align: top;width: 415.609px;height: 38px;border: 1px solid #CCCCCC;padding: 5px;"
            text " "
          text " "
        text " "
      text " "
      P (&93834783781360)
        attr id "polarion_133"
      text " "
      H4 (&93834783781840)
        attr id "5.2.2"
        text "5.2.2 Registrierungs-Dienst"
      text " "
      P (&93834783782440)
        attr id "polarion_135"
        SPAN (&93834783782800)
          attr style "font-size: 10pt;line-height: 1.5;"
          text "Der Registrierungs-Dienst MUSS ein Frontend oder Schnittstellen bereitstellen, damit ein interoperabler Onboarding-Prozess für die Registrierung von Messenger-Services gewährleistet wird. Der Registrierungs-Dienst MUSS es ermöglichen einen neuen Messenger-Service über ein Frontend zu erzeugen. So MUSS der Registrierungs-Dienst bei einer neuen Registrierungsanfrage automatisiert den durch den Smartcard IDP-Dienst ausgestellten ACCESS_TOKEN (gemäß Kapitel 4.2.1) validieren, einen dezentralen Messenger-Service automatisiert starten und die entsprechende Matrix-Domain (referenziert zur im Claim genannten Organisation) im VZD-FHIR-Directory hinterlegen."
      text " "
      P (&93834783783400)
        attr id "polarion_164"
        text "Für die Aufnahme eines TI-Messenger-Fachdienstes in die Föderation des TI-Messenger-Dienstes wird durch den Registrierungs-Dienst die Matrix Domain einer Organisation in das VZD-FHIR-Directory eingetragen. Der Registrierungs-Dienst eines TI-Messenger-Fachdienst MUSS sich gegenüber dem VZD-FHIR-Directory mittels OAuth2 Client Credentials Flow authentifizieren und ebenfalls als Anbieter auf dem VZD-FHIR-Directory gelistet sein. Der Registrierungs-Dienst MUSS die Domains der dezentralen Messenger-Services, referenziert auf die entsprechende Organization-Ressource als Endpoint hinterlegen. Genauere Angaben sind im VZD-FHIR-Directory Datenmodell zu finden."
      text " "
      P (&93834783784000)
        attr id "polarion_121"
        text "Der Registrierungs-Dienst MUSS eine Liste aller verifizierten Domains aus dem VZD-FHIR-Directory für die dezentralen Messenger-Proxies bereitstellen. Dazu wird die im VZD-FHIR-Directory bereitgestellte Operation "
        SPAN (&93834783784480)
          attr style "font-family: 'Courier New', Courier, monospace, HanWangKanTan;"
          text "GET/FederationList"
        text "aufgerufen. Um die Schnittstelle nutzen zu können MUSS sich der Registrierungs-Dienst des TI-Messenger-Anbieters, wie bereits oben erwähnt, mit einem Accesstoken authentisieren, das vom OAuth-Server des VZD-Anbieters ausgestellt wurde. Mit der Operation"
        SPAN (&93834783785080)
          attr style "font-family: 'Courier New', Courier, monospace, HanWangKanTan;"
          text "GET/FederationList"
        text "MUSS die Liste der an der TI-Messenger-Föderation beteiligten Matrix-Domainnamen abgefragt werden. Die Abfrage der"
        SPAN (&93834783785680)
          attr style "font-family: 'Courier New', Courier, monospace, HanWangKanTan;"
          text "FederationList"
        text "MUSS mindestens einmal am Tag erfolgen. Die Prüfung auf Aktualität dieser Föderationsliste beim VZD-FHIR-Directory MUSS bei jeder Anfrage durch einen Matrix-Proxy zur Bereitstellung der Föderationsliste erfolgen. Nach dem Erhalt dieser Liste MUSS diese durch den Messenger-Proxy für die Prüfung der Domainzugehörigkeit genutzt werden. Der Registrierungs-Dienst MUSS für den Abruf dieser"
        SPAN (&93834783786280)
          attr style "font-family: 'Courier New', Courier, monospace, HanWangKanTan;"
          text "FederationList"
        text "durch die Messenger-Proxy eine Schnittstelle bereitstellen. Als Ergebnis erhält der Registrierungs-Dienst eine Liste der hashes der an der Föderation beteiligten Domainnamen."
      text " "
      P (&93834783787000)
        attr id "polarion_60"
        text "Vor der Ausgabe eines PASSporT durch den PASSporT-Service im VZD-FHIR-Directory wird dieser vom PASSporT-Service signiert. Der Registrierungs-Dienst des TI-Messenger-Fachdienstes MUSS für die Prüfung der Gültigkeit dieser Signatur durch"
        SPAN (&93834783787480)
          attr style "text-decoration: line-through;"
        text "die Messenger-Proxies die dafür benötigten Zertifikate mit dem öffentlichen Schlüssel des PASSporT-Services im VZD-FHIR-Directory über die Operation "
        SPAN (&93834783787960)
          attr style "font-size: 10pt;line-height: 1.5;"
          SPAN (&93834783788320)
            attr style "font-family: 'Courier New', Courier, monospace, HanWangKanTan;"
            text "GET/PASSporTCertificate"
          text "vom VZD-FHIR-Directory abfragen und für die spätere Nutzung durch die Messenger"
          SPAN (&93834783788920)
            attr style "text-decoration: line-through;"
            text "-"
          text "Proxies abspeichern. Der Registrierungs-Dienst MUSS für den Abruf dieses"
          SPAN (&93834783789520)
            attr style "font-family: 'Courier New', Courier, monospace, HanWangKanTan;"
            text "PASSporTCertificate "
          text "durch die Messenger"
          SPAN (&93834783790120)
            attr style "text-decoration: line-through;"
            text "-"
          text "Proxies eine Schnittstelle bereitstellen."
      text " "
      P (&93834783790840)
        attr id "polarion_165"
      text " "
      H4 (&93834783791320)
        attr id "5.2.3"
        text "5.2.3 Push-Gateway"
      text " "
      P (&93834783791920)
        attr id "polarion_155"
        text "Der TI-Messenger-Fachdienst MUSS einen Push-Gateway, gemäß Matrix-Spezifikation, für den TI-Messenger-Client bereitstellen. Es obliegt den TI-Messenger-Anbietern der einzelnen TI-Messenger-Clients, ob eine Push-Funktion unterstützt wird."
      text " "
      P (&93834783792520)
        attr id "polarion_210"
      text " "
      H2 (&93834783793000)
        attr id "6"
        text "6 Anhang A – Verzeichnisse"
      text " "
      H3 (&93834783793600)
        attr id "6.1"
        text "6.1 Abkürzungen"
      text " "
      TABLE (&93834783794200)
        attr class "polarion-Document-table"
        attr id "polarion_wiki macro name=table;params=width=100%|uid=1"
        attr style "width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;border-collapse: collapse;"
        text " "
        TBODY (&93834783795032)
          text " "
          TR (&93834783795336)
            text " "
            TH (&93834783795640)
              attr style "background-color: #F0F0F0;text-align: left;vertical-align: top;width: 120px;height: 19.6px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Kürzel"
              BR (&93834783796120)
            text " "
            TH (&93834783796424)
              attr style "background-color: #F0F0F0;text-align: left;vertical-align: top;width: 612px;height: 19.6px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Erläuterung"
              BR (&93834783796904)
            text " "
          text " "
          TR (&93834783797328)
            text " "
            TD (&93834783797632)
              attr style "text-align: left;vertical-align: top;width: 120px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;"
              text "API"
            text " "
            TD (&93834783798232)
              attr style "text-align: left;vertical-align: top;width: 612px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Application Programming Interface"
              BR (&93834783798712)
            text " "
          text " "
          TR (&93834783799136)
            text " "
            TD (&93834783799440)
              attr style "text-align: left;vertical-align: top;width: 120px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;"
              text "AuthN"
            text " "
            TD (&93834783800040)
              attr style "text-align: left;vertical-align: top;width: 612px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Authentication"
            text " "
          text " "
          TR (&93834783800760)
            text " "
            TD (&93834783801064)
              attr style "text-align: left;vertical-align: top;width: 120px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;"
              text "AuthZ"
            text " "
            TD (&93834783801664)
              attr style "text-align: left;vertical-align: top;width: 612px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Authorization"
            text " "
          text " "
          TR (&93834783802384)
            text " "
            TD (&93834783802688)
              attr style "text-align: left;vertical-align: top;width: 120px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;"
              text "CC"
            text " "
            TD (&93834783803288)
              attr style "text-align: left;vertical-align: top;width: 612px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Common Criteria"
              BR (&93834783803768)
            text " "
          text " "
          TR (&93834783804192)
            text " "
            TD (&93834783804496)
              attr style "text-align: left;vertical-align: top;width: 120px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;"
              text "DSGVO"
            text " "
            TD (&93834783805096)
              attr style "text-align: left;vertical-align: top;width: 612px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Datenschutz-Grundverordnung"
              BR (&93834783805576)
            text " "
          text " "
          TR (&93834783806000)
            text " "
            TD (&93834783806304)
              attr style "text-align: left;vertical-align: top;width: 120px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;"
              text "FHIR"
            text " "
            TD (&93834783806904)
              attr style "text-align: left;vertical-align: top;width: 612px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Fast Healthcare Interoperable Resources"
            text " "
          text " "
          TR (&93834783807624)
            text " "
            TD (&93834783807928)
              attr style "text-align: left;vertical-align: top;width: 120px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;"
              text "HBA"
            text " "
            TD (&93834783808528)
              attr style "text-align: left;vertical-align: top;width: 612px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Heilberufsausweis"
            text " "
          text " "
          TR (&93834783809248)
            text " "
            TD (&93834783809552)
              attr style "text-align: left;vertical-align: top;width: 120px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;"
              text "HTTP"
            text " "
            TD (&93834783810152)
              attr style "text-align: left;vertical-align: top;width: 612px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Hyptertext Transfer Protocol"
            text " "
          text " "
          TR (&93834783810872)
            text " "
            TD (&93834783811176)
              attr style "text-align: left;vertical-align: top;width: 120px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;"
              text "IDP"
            text " "
            TD (&93834783811776)
              attr style "text-align: left;vertical-align: top;width: 612px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;"
              SPAN (&93834783812136)
                attr style "font-size: 9pt;line-height: 1.5;"
                text "Identity Provider"
            text " "
          text " "
          TR (&93834783812856)
            text " "
            TD (&93834783813184)
              attr style "text-align: left;vertical-align: top;width: 120px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;"
              text "JSON"
            text " "
            TD (&93834783813784)
              attr style "text-align: left;vertical-align: top;width: 612px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;"
              text "JavaScript Object Notation"
            text " "
          text " "
          TR (&93834783814504)
            text " "
            TD (&93834783814808)
              attr style "text-align: left;vertical-align: top;width: 120px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;"
              text "KVNR"
            text " "
            TD (&93834783815408)
              attr style "text-align: left;vertical-align: top;width: 612px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Krankenversichertennummer"
            text " "
          text " "
          TR (&93834783816128)
            text " "
            TD (&93834783816432)
              attr style "text-align: left;vertical-align: top;width: 120px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;"
              text "MSC"
            text " "
            TD (&93834783817032)
              attr style "text-align: left;vertical-align: top;width: 612px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Matrix Spec Change"
            text " "
          text " "
          TR (&93834783817752)
            text " "
            TD (&93834783818056)
              attr style "text-align: left;vertical-align: top;width: 120px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;"
              text "MXID"
            text " "
            TD (&93834783818656)
              attr style "text-align: left;vertical-align: top;width: 612px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Matrix-ID"
            text " "
          text " "
          TR (&93834783819376)
            text " "
            TD (&93834783819680)
              attr style "text-align: left;vertical-align: top;width: 120px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;"
              text "OAuth"
            text " "
            TD (&93834783820280)
              attr style "text-align: left;vertical-align: top;width: 612px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Open Authorization"
            text " "
          text " "
          TR (&93834783821000)
            text " "
            TD (&93834783821304)
              attr style "text-align: left;vertical-align: top;width: 120px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;"
              text "PASSporT"
            text " "
            TD (&93834783821904)
              attr style "text-align: left;vertical-align: top;width: 612px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Personal Assertion Token"
            text " "
          text " "
          TR (&93834783822624)
            text " "
            TD (&93834783822928)
              attr style "text-align: left;vertical-align: top;width: 120px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;"
              text "SMC-B"
            text " "
            TD (&93834783823528)
              attr style "text-align: left;vertical-align: top;width: 612px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Institutionenkarte (Security Module Card Typ B)"
            text " "
          text " "
          TR (&93834783824248)
            text " "
            TD (&93834783824552)
              attr style "text-align: left;vertical-align: top;width: 120px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;"
              text "SSSS"
            text " "
            TD (&93834783825152)
              attr style "text-align: left;vertical-align: top;width: 612px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Secure Secret Storage and Sharing"
            text " "
          text " "
          TR (&93834783825872)
            text " "
            TD (&93834783826176)
              attr style "text-align: left;vertical-align: top;width: 120px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;"
              text "TI"
            text " "
            TD (&93834783826776)
              attr style "text-align: left;vertical-align: top;width: 612px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Telematikinfrastruktur"
            text " "
          text " "
          TR (&93834783827496)
            text " "
            TD (&93834783827800)
              attr style "text-align: left;vertical-align: top;width: 120px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;"
              text "TLS"
            text " "
            TD (&93834783828400)
              attr style "text-align: left;vertical-align: top;width: 612px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Transport Layer Security"
              BR (&93834783828880)
            text " "
          text " "
          TR (&93834783829304)
            text " "
            TD (&93834783829608)
              attr style "text-align: left;vertical-align: top;width: 120px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;"
              text "UIA"
            text " "
            TD (&93834783830208)
              attr style "text-align: left;vertical-align: top;width: 612px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;"
              text "User Interactive Authorization"
            text " "
          text " "
          TR (&93834783830928)
            text " "
            TD (&93834783831232)
              attr style "text-align: left;vertical-align: top;width: 120px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;"
              text "VZD"
            text " "
            TD (&93834783831832)
              attr style "text-align: left;vertical-align: top;width: 612px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Verzeichnisdienst"
              BR (&93834783832312)
            text " "
          text " "
        text " "
      text " "
      H3 (&93834783832976)
        attr id "6.2"
        text "6.2 Glossar"
      text " "
      TABLE (&93834783833576)
        attr class "polarion-Document-table"
        attr id "polarion_wiki macro name=table;params=width=100%|uid=2"
        attr style "width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;border-collapse: collapse;"
        text " "
        TBODY (&93834783834408)
          text " "
          TR (&93834783834712)
            text " "
            TH (&93834783835016)
              attr style "background-color: #F0F0F0;text-align: left;vertical-align: top;width: 195px;height: 19.6px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"
              text "Begriff"
              BR (&93834783835496)
            text " "
            TH (&93834783835800)
              attr style "background-color: #F0F0F0;text-align: left;vertical-align: top;width: 536px;height: 19.6px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"
              text "Erläuterung"
              BR (&93834783836280)
            text " "
          text " "
          TR (&93834783836704)
            text " "
            TD (&93834783837008)
              attr style "text-align: left;vertical-align: top;width: 195px;height: 20.4px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"
              text "MXID"
            text " "
            TD (&93834783837608)
              attr style "text-align: left;vertical-align: top;width: 536px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Eindeutige Identifikation eines TI-Messenger-Nutzers (Matrix-User-ID)"
            text " "
          text " "
          TR (&93834783838328)
            text " "
            TD (&93834783838632)
              attr style "text-align: left;vertical-align: top;width: 195px;height: 20.4px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"
              text "on-premise"
            text " "
            TD (&93834783839232)
              attr style "text-align: left;vertical-align: top;width: 536px;height: 20.4px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"
              text "Das Produkt wird auf eigener oder gemieteter Hardware betrieben"
            text " "
          text " "
          TR (&93834783839952)
            text " "
            TD (&93834783840256)
              attr style "text-align: left;vertical-align: top;width: 195px;height: 20.4px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"
              text "Relying Party"
              BR (&93834783840736)
            text " "
            TD (&93834783841040)
              attr style "text-align: left;vertical-align: top;width: 536px;height: 20.4px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"
              text "Vertraurungswürdige Komponente, die Zugriff auf eine sichere Anwendung ermöglicht"
              BR (&93834783841520)
            text " "
          text " "
          TR (&93834783841944)
            text " "
            TD (&93834783842248)
              attr style "text-align: left;vertical-align: top;width: 195px;height: 20.4px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"
              text "X.509-Zertifikat"
            text " "
            TD (&93834783842848)
              attr style "text-align: left;vertical-align: top;width: 536px;height: 20.4px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"
              text "Ein Public-Key-Zertifikat nach dem X.509-Standard"
              BR (&93834783843328)
            text " "
          text " "
        text " "
      text " "
      P (&93834783843992)
        attr id "polarion_181"
        text "Das Glossar wird als eigenständiges Dokument (vgl. [gemGlossar]) zur Verfügung gestellt."
      text " "
      H3 (&93834783844592)
        attr id "6.3"
        text "6.3 Abbildungsverzeichnis"
      text " "
      DIV (&93834783845192)
        attr data-sequence "Abbildung"
        attr id "polarion_wiki macro name=tof;params=uid=1"
      text " "
      DIV (&93834783863968)
        attr id "toc_container"
        text " "
        P (&93834783864424)
          attr class "toc_title"
        H1 (&93834783864784)
        P (&93834783864968)
        text " "
        LI (&93834783865272)
          A (&93834783865456)
            attr href "#polarion_66"
            text "Abbildung 1: Systemüberblick (Vereinfachte Darstellung)"
        text " "
        LI (&93834783866056)
          A (&93834783866240)
            attr href "#polarion_55"
            text "Abbildung 2: Beispiel - Authentifizierung von Nutzern einer Organisation"
        text " "
        LI (&93834783866840)
          A (&93834783867024)
            attr href "#polarion_56"
            text "Abbildung 3: Funktionaler Aufbau des TI-Messenger-Fachdienstes"
        text " "
        LI (&93834783867624)
          A (&93834783867808)
            attr href "#polarion_180"
            text "Abbildung 4: Matrix-API des Messenger-Service"
        text " "
      text " "
      H3 (&93834783868528)
        attr id "6.4"
        text "6.4 Tabellenverzeichnis"
      text " "
      DIV (&93834783869128)
        attr data-sequence "Tabelle"
        attr id "polarion_wiki macro name=tof;params=uid=2"
      text " "
      DIV (&93834783869784)
        attr id "toc_container"
        text " "
        P (&93834783870264)
          attr class "toc_title"
        H1 (&93834783870624)
        P (&93834783870808)
        text " "
        LI (&93834783871112)
          A (&93834783871296)
            attr href "#polarion_221"
            text "Tabelle 1: Authentifizierung von Nutzerrollen"
        text " "
        LI (&93834783871896)
          A (&93834783872080)
            attr href "#polarion_36"
            text "Tabelle 2: Inhalte der Claims für SMC-B/HBA"
        text " "
        LI (&93834783872680)
          A (&93834783872864)
            attr href "#polarion_132"
            text "Tabelle 3 : Technische Kommunikationsbeziehungen – Use-Case-Mapping "
        text " "
        LI (&93834783873464)
          A (&93834783873648)
            attr href "#polarion_107"
            text "Tabelle 4: Schnittstelle - PASSporT-Service"
        text " "
        LI (&93834783874248)
          A (&93834783874432)
            attr href "#polarion_101"
            text "Tabelle 5 Error-Code PASSporT-Service"
        text " "
        LI (&93834783875032)
          A (&93834783875216)
            attr href "#polarion_99"
            text "Tabelle 6: Ablauf PASSporT-Erstellung"
        text " "
      text " "
      H3 (&93834783875936)
        attr id "6.5"
        text "6.5 Referenzierte Dokumente"
      text " "
      H4 (&93834783876536)
        attr id "6.5.1"
        text "6.5.1 Dokumente der gematik"
      text " "
      P (&93834783877136)
        attr id "polarion_186"
        text "Die nachfolgende Tabelle enthält die Bezeichnung der in dem vorliegenden Dokument referenzierten Dokumente der gematik zur Telematikinfrastruktur. Der mit der vorliegenden Version korrelierende Entwicklungsstand dieser Konzepte und Spezifikationen wird pro Release in einer Dokumentenlandkarte definiert; Version und Stand der referenzierten Dokumente sind daher in der nachfolgenden Tabelle nicht aufgeführt. Deren zu diesem Dokument jeweils gültige Versionsnummern sind in der aktuellen, von der gematik veröffentlichten Dokumentenlandkarte enthalten, in der die vorliegende Version aufgeführt wird."
      text " "
      P (&93834783877736)
        attr id "polarion_187"
      text " "
      TABLE (&93834783878216)
        attr class "polarion-Document-table"
        attr id "polarion_wiki macro name=table;params=width=100%|uid=4"
        attr style "width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;border-collapse: collapse;"
        text " "
        TBODY (&93834783879048)
          text " "
          TR (&93834783879352)
            text " "
            TH (&93834783879656)
              attr style "background-color: #F0F0F0;text-align: left;vertical-align: top;width: 184px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;"
              text "[Quelle]"
              BR (&93834783880136)
            text " "
            TH (&93834783880440)
              attr style "background-color: #F0F0F0;text-align: left;vertical-align: top;width: 547px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Herausgeber: Titel"
              BR (&93834783880920)
            text " "
          text " "
          TR (&93834783881344)
            text " "
            TD (&93834783881648)
              attr style "text-align: left;vertical-align: top;width: 184px;height: 20px;border: 1px solid #CCCCCC;padding: 5px;"
              text "[gemGlossar]"
            text " "
            TD (&93834783882248)
              attr style "text-align: left;vertical-align: top;width: 547px;height: 20px;border: 1px solid #CCCCCC;padding: 5px;"
              text "gematik: Einführung der Gesundheitskarte – Glossar"
            text " "
          text " "
          TR (&93834783882968)
            text " "
            TD (&93834783883272)
              attr style "text-align: left;vertical-align: top;width: 184px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;"
              text "[gemKPT_TI_Messenger]"
            text " "
            TD (&93834783883872)
              attr style "text-align: left;vertical-align: top;width: 547px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;"
              text "gematik: Konzeptpapier TI-Messenger"
            text " "
          text " "
          TR (&93834783884592)
            text " "
            TD (&93834783884896)
              attr style "text-align: left;vertical-align: top;width: 184px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;"
              text "[gemSpec_TI_Messenger-Dienst]"
            text " "
            TD (&93834783885496)
              attr style "text-align: left;vertical-align: top;width: 547px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;"
              text "gematik: Spezifikation TI-Messenger-Dienst"
              BR (&93834783885976)
            text " "
          text " "
          TR (&93834783886400)
            text " "
            TD (&93834783886704)
              attr style "text-align: left;vertical-align: top;width: 184px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;"
              text "[gemKPT_Betr]"
            text " "
            TD (&93834783887304)
              attr style "text-align: left;vertical-align: top;width: 547px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;"
              text "gematik: Betriebskonzept Online-Produktivbetrieb"
            text " "
          text " "
          TR (&93834783888024)
            text " "
            TD (&93834783888328)
              attr style "text-align: left;vertical-align: top;width: 184px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;"
              text "[gemSpec_Perf]"
            text " "
            TD (&93834783888928)
              attr style "text-align: left;vertical-align: top;width: 547px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;"
              text "gematik: Übergreifend Spezifikation Performance und Mengengerüst TI-Plattform"
            text " "
          text " "
          TR (&93834783889648)
            text " "
            TD (&93834783889952)
              attr style "text-align: left;vertical-align: top;width: 184px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;"
              text "[gemSpec_Krypt]"
            text " "
            TD (&93834783890552)
              attr style "text-align: left;vertical-align: top;width: 547px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;"
              text "gematik: Übergreifende Spezifikation Verwendung kryptographischer Algorithmen in der"
              BR (&93834783891032)
              text "Telematikinfrastruktur"
              BR (&93834783891336)
            text " "
          text " "
          TR (&93834783891760)
            text " "
            TD (&93834783892064)
              attr style "text-align: left;vertical-align: top;width: 184px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;"
              text "[gemSpec_IDP_FD]"
            text " "
            TD (&93834783892664)
              attr style "text-align: left;vertical-align: top;width: 547px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;"
              text "gematik: Spezifikation Identity Provider – Nutzungsspezifikation für Fachdienste"
              BR (&93834783893144)
            text " "
          text " "
        text " "
      text " "
      H4 (&93834783893808)
        attr id "6.5.2"
        text "6.5.2 Weitere Dokumente"
      text " "
      TABLE (&93834783894408)
        attr class "polarion-Document-table"
        attr id "polarion_wiki macro name=table;params=width=100%|uid=5"
        attr style "width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;border-collapse: collapse;"
        text " "
        TBODY (&93834783895240)
          text " "
          TR (&93834783895544)
            text " "
            TH (&93834783895848)
              attr style "background-color: #F0F0F0;text-align: left;vertical-align: top;width: 184px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;"
              text "[Quelle]"
              BR (&93834783896328)
            text " "
            TH (&93834783945920)
              attr style "background-color: #F0F0F0;text-align: left;vertical-align: top;width: 547px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Herausgeber (Erscheinungsdatum): Titel"
              BR (&93834783946376)
            text " "
          text " "
          TR (&93834783946800)
            text " "
            TD (&93834783947104)
              attr style "text-align: left;vertical-align: top;width: 184px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;"
              text "[Matrix Foundation]"
              BR (&93834783947584)
            text " "
            TD (&93834783947888)
              attr style "text-align: left;vertical-align: top;width: 547px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Matrix Foundation "
              BR (&93834783948368)
              text " "
              A (&93834783948672)
                attr class "descriptionLink"
                attr href "https://matrix.org/docs/spec/"
                attr target "_top"
                text "https://matrix.org/docs/spec/"
              text " "
              BR (&93834783949624)
            text " "
          text " "
          TR (&93834783950048)
            text " "
            TD (&93834783950352)
              attr style "text-align: left;vertical-align: top;width: 184px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;"
              text "[Federation API]"
            text " "
            TD (&93834783950952)
              attr style "text-align: left;vertical-align: top;width: 547px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;"
              text "Matrix Foundation "
              BR (&93834783951432)
              text " "
              A (&93834783951736)
                attr class "descriptionLink"
                attr href "https://matrix.org/docs/spec/server_server/r0.1.4"
                attr target "_top"
                text "https://matrix.org/docs/spec/server_server/r0.1.4"
              text " "
            text " "
          text " "
          TR (&93834783952928)
            text " "
            TD (&93834783953232)
              attr style "text-align: left;vertical-align: top;width: 184px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;"
              text "[RFC 8225]"
            text " "
            TD (&93834783953832)
              attr style "text-align: left;vertical-align: top;width: 547px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;"
              text "PASSporT: Personal Assertion Token"
              BR (&93834783954312)
              text " "
              A (&93834783954616)
                attr class "descriptionLink"
                attr href "https://datatracker.ietf.org/doc/html/rfc8225"
                attr target "_top"
                text "https://datatracker.ietf.org/doc/html/rfc8225"
              text " "
            text " "
          text " "
          TR (&93834783955808)
            text " "
            TD (&93834783956112)
              attr style "text-align: left;vertical-align: top;width: 184px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;"
              text "[OpenID]"
            text " "
            TD (&93834783956712)
              attr style "text-align: left;vertical-align: top;width: 547px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;"
              text "OpenID Foundation"
              BR (&93834783957192)
              text " "
              A (&93834783957496)
                attr class "descriptionLink"
                attr href "https://openid.net/developers/specs/"
                attr target "_top"
                text "https://openid.net/developers/specs/"
              text " "
            text " "
          text " "
          TR (&93834783958688)
            text " "
            TD (&93834783958992)
              attr style "text-align: left;vertical-align: top;width: 184px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;"
              text "[OWASP Proactive Control]"
            text " "
            TD (&93834783959592)
              attr style "text-align: left;vertical-align: top;width: 547px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;"
              text "OWASP Proactive Controls"
              BR (&93834783960072)
              text " "
              A (&93834783960376)
                attr class "descriptionLink"
                attr href "https://owasp.org/www-project-proactive-controls/"
                attr target "_top"
                text "https://owasp.org/www-project-proactive-controls/"
              text " "
            text " "
          text " "
          TR (&93834783961568)
            text " "
            TD (&93834783961872)
              attr style "text-align: left;vertical-align: top;width: 184px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;"
              text "[MSC 3013]"
            text " "
            TD (&93834783962472)
              attr style "text-align: left;vertical-align: top;width: 547px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;"
              A (&93834783962832)
                attr class "descriptionLink"
                attr href "https://github.com/matrix-org/matrix-doc/pull/3013"
                attr target "_top"
                text "https://github.com/matrix-org/matrix-doc/pull/3013"
              text " "
              SPAN (&93834783963784)
                attr style "background-color: #FFFF99;"
            text " "
          text " "
        text " "
      text " "
      P (&93834783964624)
        attr id "polarion_196"
      text " "


   ====================
   ATTRIBUTE STATISTICS
   ====================

   charset:: utf-8
   class:: MsoNormal; descriptionLink; polarion-Document-table; polarion-dle-wiki-block; polarion-dle-wiki-block-source; polarion-rte-caption; polarion-rte-caption-paragraph; polarion-rte-link; toc_title
   contenteditable:: false
   data-is-landscape:: false
   data-item-id:: ML-118392
   data-keep-next:: true
   data-option-id:: longoutline
   data-scope:: Mainline_OPB1
   data-sequence:: Abbildung; Tabelle
   data-type:: crossReference
   rowspan:: 3
   style:background-color: #99FF99; #F0F0F0; #FFCCCC; #FFFF00; #FFFF33; #FFFF99; #FFFFCC; #FFFFFF
   style:border: 1px solid #CCCCCC
   style:border-bottom: 1px solid #CCCCCC
   style:border-collapse: collapse
   style:border-left: 1px solid #CCCCCC
   style:border-right: 1px solid #CCCCCC
   style:border-top: 1px solid #CCCCCC
   style:color: #000000; #333333; #3333FF
   style:empty-cells: show
   style:font-family: 'Courier New', Courier, monospace, HanWangKanTan; Arial, Helvetica, sans-serif
   style:font-size: 10pt; 11pt; 12pt; 28pt; 9pt
   style:font-style: italic; normal
   style:font-weight: bold; normal
   style:height: 117px; 12px; 146px; 18.8px; 19.6px; 19px; 20.4px; 20px; 230px; 24px; 310px; 344px; 38px; 40px; 493px; 60px; 61px; 62px; 64px; 65px; 95px
   style:line-height: 1.2; 1.5
   style:list-style: none
   style:margin-left: 0px; auto
   style:margin-right: auto
   style:padding: 5px
   style:text-align: center; left
   style:text-decoration: line-through; underline
   style:vertical-align: top
   style:width: 100%; 107px; 120.4px; 120px; 150px; 164.578px; 170px; 184px; 195px; 231px; 266.75px; 289.094px; 297.109px; 313.438px; 325px; 348.4px; 396px; 415.609px; 456px; 499px; 500px; 506px; 536px; 547px; 57px; 591.6px; 592px; 612px; 65.2px; 75.36%; 77px; 78px; 80%; 80px; 86.8px; 86px; 93.93%; 95.0312px; 98px
   target:: _top


   ================
   CHILD STATISTICS
   ================

   A
    _TEXT: 59 (&93834783698056)
   B
    _TEXT: 38 (&93834781707568)
   BODY
    DIV: 28 (&93834775857320)
    H1: 2 (&93834775868304)
    H2: 6 (&93834771068104)
    H3: 19 (&93834771068704)
    H4: 9 (&93834772306696)
    H5: 3 (&93834770992376)
    P: 195 (&93834775846120)
    PRE: 2 (&93834783752896)
    TABLE: 17 (&93834775872560)
    UL: 7 (&93834771081648)
   DIV
    B: 3 (&93834781715304)
    BR: 2 (&93834772283712)
    DIV: 1 (&93834775857976)
    H1: 3 (&93834783697024)
    LI: 49 (&93834783697512)
    P: 47 (&93834783696664)
    PRE: 1 (&93834775858632)
    UL: 3 (&93834781710352)
    _TEXT: 2 (&93834772283592)
   H1
    _TEXT: 2 (&93834775868664)
   H2
    _TEXT: 6 (&93834771068464)
   H3
    _TEXT: 19 (&93834771069064)
   H4
    _TEXT: 9 (&93834772307056)
   H5
    _TEXT: 3 (&93834770992736)
   HEAD
    META: 1 (&93834775845216)
    STYLE: 1 (&93834775844784)
   HTML
    BODY: 1 (&93834775845816)
    HEAD: 1 (&93834775844480)
   LI
    A: 49 (&93834783697696)
    BR: 3 (&93834781714400)
    SPAN: 16 (&93834771082312)
    UL: 1 (&93834781669336)
    _TEXT: 84 (&93834783699264)
   OL
   P
    B: 35 (&93834781707384)
    BR: 68 (&93834775846480)
    IMG: 3 (&93834781683768)
    SPAN: 113 (&93834775849800)
    _TEXT: 176 (&93834775870224)
   PRE
    TABLE: 1 (&93834775859464)
   SPAN
    A: 4 (&93834770995080)
    BR: 219 (&93834771076504)
    IMG: 1 (&93834781700136)
    SPAN: 21 (&93834781689928)
    _TEXT: 312 (&93834775850160)
   STYLE
    _TEXT: 1 (&93834775844976)
   TABLE
    TBODY: 18 (&93834775859768)
   TBODY
    TR: 87 (&93834775859952)
   TD
    A: 6 (&93834783948672)
    BR: 88 (&93834783691304)
    SPAN: 19 (&93834781676496)
    UL: 2 (&93834764424352)
    _TEXT: 199 (&93834775860440)
   TH
    BR: 15 (&93834775874480)
    SPAN: 4 (&93834771011072)
    _TEXT: 32 (&93834775874360)
   THEAD
   TR
    TD: 171 (&93834775860256)
    TH: 36 (&93834775874000)
   UL
    LI: 51 (&93834771082128)
   _DOCUMENT
    HTML: 1 (&93834775844296)

   --> consistency checked.


   ===============
   NODE STATISTICS
   ===============

   P       title nodes:       2
   DIV     toc nodes:         3
   TR      meta data nodes:   6
   H1..H6  header nodes:      39
   DIV/TR  requirement nodes: 0
   IMG     image nodes:       4
   TABLE   table nodes:       6


